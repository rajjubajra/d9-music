{"version":3,"sources":["page/Homepage.js","components/ImageOnload.js","components/Buttons/BtnReadMore.js"],"names":["Homepage","data","useSelector","state","reducerHomePage","home_data","included","length","home_dataLength","fetched","home_fetched","console","log","useState","arr","setArr","currnetPage","setCurrentPage","useEffect","newArr","map","item","attributes","title","field_home_body","image","uri","url","imageWidth","relationships","field_media_image","meta","width","imageHeight","height","push","body","value","image_height","image_width","className","index","cssClass","src","alt","id","dangerouslySetInnerHTML","__html","substring","onClick","ImageOnload","loading","setLoading","img","Image","onload","BtnReadMore","link","to"],"mappings":"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","file":"static/js/11.649bd011.chunk.js","sourcesContent":["import React,{useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport ImageOnload from '../components/ImageOnload';\nimport {GrNext, GrPrevious} from 'react-icons/gr';\nimport {AiOutlineMail} from 'react-icons/ai';\nimport {FiPhoneCall} from 'react-icons/fi';\nimport BtnReadMore from '../components/Buttons/BtnReadMore';\n\nfunction Homepage() {\n\n  //const dispatch = useDispatch();\n  const data = useSelector(state => state.reducerHomePage.home_data.data);\n  const included = useSelector(state => state.reducerHomePage.home_data.included);\n  const length = useSelector(state => state.reducerHomePage.home_dataLength );\n  const fetched = useSelector(state => state.reducerHomePage.home_fetched );\n\n\n  console.log(\"one\",data);\n  console.log(\"two\",included);\n  console.log(\"homepage\",fetched, \"length\", length);\n\n  const [arr, setArr] = useState([]);\n  const [currnetPage, setCurrentPage] = [0];\n\n  useEffect(()=>{\n    const newArr = [];\n    fetched\n    && data.map(item => {\n      const {attributes:{title, field_home_body}} = item;\n      const image = included[1].attributes.uri.url;\n      const imageWidth = included[0].relationships.field_media_image.data.meta.width;\n      const imageHeight = included[0].relationships.field_media_image.data.meta.height;\n        newArr.push({title: title, body: field_home_body.value, image: image, image_height: imageHeight, image_width: imageWidth})\n    })\n    setArr(newArr);\n  },[data, fetched, included]);\n\n  console.log(\"new array \",arr);\n\n\n  return (\n\n\n    <div className=\"relative grid grid-flow-row gap-10 max-w-screen-xl m-auto p-10\">\n\n        {/** ROW ONE */}\n        <div>\n        <div className=\"relative grid\n        gird-cols-1 grid-flow-row \n        lg:grid-cols-3 lg:grid-rows-2 gap-6\n        md:grid-cols-2 md:grid-rows-3\">\n        { arr.length > 0 && \n          arr.map( (item, index) => {\n            return index < 6  &&\n              <div key={item.id} className=\"relative\">\n                      <h2 className=\"absolute bottom-6 left-0 p-1 font-extralight bg-gray-200 bg-opacity-40\">{item.title}</h2>\n                      <ImageOnload \n                      cssClass=\"w-full\"\n                      height={item.image_height}\n                      width={item.image_width}\n                      src={item.image} \n                      alt=\"Homepage\" />\n              </div>    \n          })\n        }\n        </div>\n        </div>\n\n\n\n\n\n        {/** ROW TWO */}\n        <div>\n        <div className=\"grid grid-flow-row h-3/4 min-h-full\n        md:grid-cols-2 md:grid-rows-1 gap-10\">\n\n        {/** TEXT BLOCK */}        \n            <div className=\"relative order-2 md:order-1\">\n              <h2 className=\"text-3xl font-extralight pb-10\">{arr.length > 0 && arr[currnetPage].title}</h2>\n              <div>{arr.length > 0  && \n                <div  className=\"font-extralight tracking-wider\"\n                      dangerouslySetInnerHTML={{__html: \n                      arr[currnetPage].body.substring(0,500)}} /> }\n              </div>\n            </div>\n\n        {/** NEXT AND PREV BUTTONS */}\n            <div className=\"order-3\">   \n                <div className=\"flex mt-8 w-full font-extralight\">\n                <div \n                className={ `${currnetPage === 0 && 'hidden'} flex cursor-pointer`}\n                onClick={() => setCurrentPage(currnetPage - 1)}>\n                    <div className=\"mt-1 px-2\"><GrPrevious /></div>\n                    <div>Prev</div>\n                </div>\n                <div className=\"px-10\">{currnetPage + 1}</div>\n                <div \n                className={`${length - 1 === currnetPage && 'hidden'} flex cursor-pointer`}\n                onClick={() => setCurrentPage(currnetPage + 1 )}>\n                    <div>Next</div>\n                    <div className=\"mt-1 px-2\"><GrNext /></div>\n                </div>\n              </div>\n            </div>\n            \n        {/*** Image Block ****/}\n            <div className=\"order-1 md:order-2\">\n              {arr.length > 0  && <ImageOnload \n              cssClass=\"w-full h-5/6 object-cover\"\n              src={arr[currnetPage].image} \n              alt=\"cover\" /> }\n            </div>\n\n        </div>\n        </div>\n\n\n\n\n        {/** ROW THREE */}\n        <div>\n          <div className=\"grid\n          grid-flow-row gap-10\n          md:grid-cols-2 md:grid-row-1 font-extralight border-t border-gray-300 pt-10\">\n            <div>\n              <h1 className=\"text-3xl tracking-wider \">YW MUSIC TWO</h1>\n            </div>\n            <div>\n              <div className=\"w-full tracking-wider md:flex md:flex-col  md:items-end\">\n                \n                  <div className=\"flex w-full\">\n                    <div className=\"mt-1 px-2\"><AiOutlineMail /></div>\n                    <div>email@example.com</div> \n                  </div>   \n                  <div className=\"flex w-full\">\n                    <div className=\"mt-1 px-2\"><FiPhoneCall /></div>\n                    <div>(UUU) 5555-5555</div>\n                  </div>\n              \n              </div>\n            </div>\n            \n          </div>\n        </div>\n\n    </div>\n\n\n    \n    // <div className=\"w-full min-h-screen flex align-middle\">\n\n    //   {\n    //     arr.length > 0 &&\n    //     arr.map((item)=>{\n    //     return <div key={item.id} className=\"w-full p-5 max-w-screen-xl m-auto\">\n\n    //       <div className=\"grid gap-3 \n    //       md:grid-cols-2 md:grid-rows-2 \n    //       lg:grid-cols-3 lg:grid-rows-1\">\n    //         <div className=\"px-10\">\n    //           <h1 className=\"text-5xl font-thin text-right py-5\n    //           md:w-1/2 md:transform md:-rotate-90 md:relative md:top-24 md:left-1/4 uppercase tracking-widest\">\n    //             YW4 Music One\n    //           </h1>\n    //           </div>\n    //         <div className=\"px-10\">\n    //           <div className=\"py-5 md:flex md:justify-end lg:w-2/3\">\n    //             <ImageOnload \n    //               height={item.image_height}\n    //               width={item.image_width}\n    //               src={item.image} \n    //               alt=\"Homepage\"  \n    //             cssClass=\"h-64 w-full md:h-96 md:w-64 object-cover\" />\n    //           </div>\n    //         </div>\n    //         <div className=\"px-10 \n    //         md:col-span-2 md:flex md:justify-end \n    //         lg:col-auto\">\n    //           <div className=\"md:w-1/2 lg:w-full pb-8 text-right\">\n    //             <h2 className=\"text-2xl\">{item.title}</h2>\n    //             <div  className=\"font-extralight my-5 text-right\" \n    //               dangerouslySetInnerHTML={{__html: item.body}} />\n    //             <div className=\"md:text-right md:mt-10\">\n    //               <BtnReadMore link={item.link} />\n    //             </div>\n    //         </div>\n    //         </div>\n    //       </div>\n    //     </div>\n    //     })\n    //   }\n    \n    // </div>\n  \n  \n  )\n}\n\nexport default Homepage","import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  //console.log(\"loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n"],"sourceRoot":""}