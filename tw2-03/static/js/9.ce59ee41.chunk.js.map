{"version":3,"sources":["components/ImageOnload.js","components/Buttons/BtnReadMore.js","page/Music/MusicList.js","components/Buttons/BtnBack.js","page/Music/MusicDetail.js","page/Music.js"],"names":["ImageOnload","src","alt","cssClass","useState","loading","setLoading","useEffect","img","Image","onload","width","height","className","BtnReadMore","link","to","MusicList","listdata","length","map","item","index","title","image","url","dangerouslySetInnerHTML","__html","body","substring","id","BtnBack","MusicDetail","arr","youtube","setYoutube","shareTitle","setShareTitle","ytube","video","replace","onClick","navigator","clipboard","writeText","window","location","href","onMouseEnter","onMouseLeave","Music","useParams","dispatch","useDispatch","actionMusic","musicData","useSelector","state","reducerMusic","music_data","data","musicDataFetched","music_fetched","musicDataInc","included","console","log","setArr","audioArray","arr1","arr2","type","some","el","audioId","push","attributes","uri","getAudioUri","relationships","field_media_audio_file","imageArray","imageId","getUri","field_media_image","videoArray","field_media_oembed_video","name","processed","field_music_body","audio","field_music_audio","field_music_image","videoId","field_music_video","LoadingBar"],"mappings":"qJAgCeA,IA7Bf,YAA4C,IAAtBC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,SAE9B,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KAcA,OATAC,qBAAU,WACR,IAAMC,EAAM,IAAIC,MACZD,EAAIE,OAAQ,WAEVJ,GAAW,IAEbE,EAAIP,IAAMA,IACd,CAACA,IAGDI,EACA,qBACEM,MAAM,OACNC,OAAO,OACPC,UAAWV,EACXF,IAAKA,EACLC,IAAKA,IAEL,cAAC,IAAD,M,gCC5BN,mBAYeY,IAVf,YAA8B,IAARC,EAAO,EAAPA,KACpB,OACE,8BACA,cAAC,IAAD,CACAF,UAAU,2FACVG,GAAID,EAFJ,2B,iGCmCWE,MApCf,YAAgC,IAAZC,EAAW,EAAXA,SAClB,OACE,qBAAKL,UAAU,uHAAf,SAKEK,EAASC,OAAS,GACfD,EAASE,KAAK,SAACC,EAAKC,GACrB,OAAO,sBAAKT,UAAU,qCAAf,UACL,8BACE,oBAAIA,UAAU,4BAAd,SAA2CQ,EAAKE,UAElD,8BAEIF,EAAKG,OAAS,cAACxB,EAAA,EAAD,CACdG,SAAS,2BACTF,IAAKoB,EAAKG,MAAM,GAAGC,IACnBvB,IAAI,YAIR,qBAAKW,UAAU,YAAf,SACE,qBAAKA,UAAU,wBAAwBa,wBAAyB,CAACC,OAAQN,EAAKO,KAAKC,UAAU,EAAE,UAEjG,qBAAKhB,UAAU,oBAAf,SACE,cAACC,EAAA,EAAD,CAAaC,KAAI,wCAAmCO,SAjBQD,EAAKS,U,uCCH9DC,MARf,WACE,OACE,qC,QC6GWC,MAtGf,YAAoC,IAAdV,EAAa,EAAbA,MAAOW,EAAM,EAANA,IAI3B,EAA8B7B,qBAA9B,mBAAO8B,EAAP,KAAgBC,EAAhB,KACA,EAAoC/B,mBAAS,SAA7C,mBAAOgC,EAAP,KAAmBC,EAAnB,KAmBA,OAjBA9B,qBAAU,WAKV,IAAM+B,EAAQL,EAAIX,GAAOiB,MAAM,GAAGL,QAClCC,EAAWG,EAAME,QAAQ,oBAAqB,OAI5C,CAACP,EAAKX,IAQN,8BACE,sBAAKT,UAAU,oFAAf,UAEA,qBAAKA,UAAU,gDAAf,SACE,qBAAK4B,QAAS,kBATlBC,UAAUC,UAAUC,UAAUC,OAAOC,SAASC,WAC9CV,EAAc,gBAQuBd,MAAOa,EAAxC,SACI,qBACAY,aAAc,kBAAMX,EAA8B,gBAAfD,EACb,cAAe,cACrCa,aAAc,kBAAMZ,EAA8B,gBAAfD,EACb,cAAgB,UAJtC,SAKEA,QAGR,qBAAKvB,UAAU,6BAAf,SACE,cAAC,IAAD,CAAMG,GAAG,gCAAT,SAAyC,cAAC,EAAD,QAG3C,qBAAKH,UAAU,4BAAf,SACE,gCACE,8BACE,oBAAIA,UAAU,gBAAd,SAA+BoB,EAAIX,GAAOC,UAE5C,8BACE,cAACvB,EAAA,EAAD,CAAaC,IAAKgC,EAAIX,GAAOE,MAAM,GAAGC,QAExC,qBAAKZ,UAAU,OAAf,SACE,qBAAKa,wBAAyB,CAACC,OAAQM,EAAIX,GAAOM,eAKxD,sBAAKf,UAAU,4BAAf,UAEE,sBAAKA,UAAU,QAAf,UACE,oBAAIA,UAAU,OAAd,kBACA,sBAAKA,UAAU,+BAAf,UACE,8BAAK,cAAC,IAAD,MACL,8BAAK,cAAC,IAAD,MACL,8BAAK,cAAC,IAAD,MACL,8BAAK,cAAC,IAAD,YAIT,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,OAAd,oBACA,sBAAKA,UAAU,+BAAf,UACE,8BAAK,cAAC,IAAD,MACL,8BAAK,cAAC,IAAD,MACL,8BAAK,cAAC,IAAD,YAKT,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,OAAd,kBACA,cAAC,IAAD,CACEY,IAAI,iEAAiEd,MAAM,OAC3EC,OAAO,MACPkB,GAAG,YAIP,qBAAKjB,UAAU,aAAf,SACE,cAAC,IAAD,CACEY,IAAG,wCAAmCS,GACtCvB,MAAM,OACNmB,GAAG,oB,QC6BAoB,UA3Hf,WAEE,IAAOpB,EAAMqB,cAANrB,GAEDsB,EAAWC,cAGjB9C,qBAAU,WACR6C,EAASE,iBACT,CAACF,IAGH,IAAMG,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaC,WAAWC,QAC/DC,EAAmBL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaI,iBAC3DC,EAAeP,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaC,WAAWK,YAGtEC,QAAQC,IAAI,aAAcX,GAC1BU,QAAQC,IAAI,UAAWL,GACvBI,QAAQC,IAAI,WAAYH,GAGxB,MAAqB3D,mBAAS,IAA9B,mBAAO6B,EAAP,KAAWkC,EAAX,KAGA,SAASC,EAAYC,EAAKC,GACxB,IAAMrC,EAAM,GAiBZ,OANAqC,EAAKlD,KAAK,SAAAC,GACV,MAAqB,iBAAdA,EAAKkD,MACRF,EAAKG,MAAK,SAAAC,GAAE,OAAIA,EAAG3C,KAAOT,EAAKS,OAVnC,SAAqB4C,EAASJ,GAC5BA,EAAKlD,KAAI,SAAAC,GACP,OAAOqD,IAAYrD,EAAKS,IACrBG,EAAI0C,KAAKtD,EAAKuD,WAAWC,QAQzBC,CAAYzD,EAAK0D,cAAcC,uBAAuBpB,KAAK9B,GAAIwC,MAG/DrC,EAIT,SAASgD,EAAWnD,EAAIwC,GAEtB,IAAMrC,EAAM,GAiBZ,OANAqC,EAAKlD,KAAK,SAAAC,GACR,OAAOS,IAAOT,EAAKS,IATrB,SAAgBoD,EAASZ,GACvBA,EAAKlD,KAAI,SAAAC,GACP,OAAOA,EAAKS,KAAOoD,GACnBjD,EAAI0C,KAAKtD,EAAKuD,WAAWC,QAO3BM,CAAO9D,EAAK0D,cAAcK,kBAAkBxB,KAAK9B,GAAIwC,MAIhDrC,EAKT,SAASoD,EAAWvD,EAAIwC,GACtB,IAAMrC,EAAM,GAOZ,OANAqC,EAAKlD,KAAK,SAAAC,GACR,OAAOS,IAAOT,EAAKS,IACnBG,EAAI0C,KAAK,CACPzC,QAAQb,EAAKuD,WAAWU,yBACxBC,KAAMlE,EAAKuD,WAAWW,UAEnBtD,EA6BX,OAzBE1B,qBAAU,WACR,IAAM0B,EAAM,GACZ4B,GACAN,EAAUnC,KAAI,SAACC,GACb,MAA6DA,EAArDuD,WAAYrD,EAApB,EAAoBA,MAAyBiE,EAA7C,EAA2BC,iBAAkBD,UACGE,EAAWrE,EAAnD0D,cAAeY,kBAAmB/B,KACUsB,EAAe7D,EAA3D0D,cAAea,kBAAmBhC,KAAM9B,GACI+D,EAAexE,EAA3D0D,cAAee,kBAAmBlC,KAAM9B,GAChD,OAAOG,EAAI0C,KAAK,CACd7C,GAAIT,EAAKS,GACTP,MAAMA,EACNK,KAAM4D,EACNE,MAAOtB,EAAWsB,EAAO3B,GACzBvC,MAAOyD,EAAWC,EAASnB,GAC3BxB,MAAO8C,EAAWQ,EAAS9B,QAI/BI,EAAOlC,KAEP,CAACsB,EAAWM,EAAkBE,IAEhCE,QAAQC,IAAI,YAAajC,EAAKH,GAI9B,qBAAKjB,UAAU,8BAAf,SACIgD,EAEA/B,EACE,cAAC,EAAD,CAAaR,MAAOQ,EAAIG,IAAKA,IAC7B,cAAC,EAAD,CAAWf,SAAUe,IAErB,cAAC8D,EAAA,EAAD","file":"static/js/9.ce59ee41.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  //console.log(\"Image Onload loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n","import React from 'react';\nimport BtnReadMore from '../../components/Buttons/BtnReadMore';\nimport ImageOnload from '../../components/ImageOnload';\n\nfunction MusicList({listdata}) {\n  return (\n    <div className=\"max-width-screen-xl m-auto p-10 \n                    grid grid-cols-1 grid-flow-row gap-6 \n                    md:grid-cols-2 lg:grid-cols-3\n                    font-extralight\">\n    {\n      listdata.length > 0 \n      && listdata.map( (item,index) => {\n        return <div className=\"relative w-full lg:max-w-screen-sm\" key={item.id}>\n          <div>\n            <h3 className=\"text-xl lg:text-2xl  py-4\">{item.title}</h3>\n          </div>\n          <div>\n            {\n              item.image && <ImageOnload \n              cssClass=\"w-full h-64 object-cover\" \n              src={item.image[0].url} \n              alt=\"Cover\"\n              />\n            }\n          </div>\n          <div className=\"py-4 mb-5\">\n            <div className=\"text-sm tracking-wide\" dangerouslySetInnerHTML={{__html: item.body.substring(0,400)}} />\n          </div>\n          <div className=\"absolute bottom-0\">\n            <BtnReadMore link={`/d9-music/themes/tw2-03/music/${index}`} />\n          </div>\n\n      </div>\n      })\n    }\n    </div>\n  )\n}\n\nexport default MusicList\n","import React from 'react'\n\nfunction BtnBack() {\n  return (\n    <div>\n      x\n    </div>\n  )\n}\n\nexport default BtnBack\n","import {useEffect, useState} from 'react';\nimport ImageOnload from '../../components/ImageOnload';\nimport Iframe from 'react-iframe';\nimport {RiAmazonFill} from 'react-icons/ri';\nimport {FaSpotify, FaGooglePlay, FaYoutube} from 'react-icons/fa';\nimport {SiApplemusic} from 'react-icons/si';\nimport BtnBack from '../../components/Buttons/BtnBack';\nimport {Link} from 'react-router-dom';\n\n\n\nfunction MusicDetail({index, arr}) {\n\n  \n\n  const [youtube, setYoutube] = useState();\n  const [shareTitle, setShareTitle] = useState('Share');\n\n  useEffect(()=>{\n\n  /** Drupal media do not accept embed url\n   * so separated uniqe code from the url\n   */\n  const ytube = arr[index].video[0].youtube;\n  setYoutube(ytube.replace(\"https://youtu.be/\", \"\"));\n\n\n\n  },[arr, index])\n\n  function copyShare(){\n    navigator.clipboard.writeText(window.location.href)\n    setShareTitle('Link copied');\n  }\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-12 gap-8 max-w-screen-xl m-auto p-10 font-extralight tracking-wide\">\n\n      <div className=\"col-span-11 text-right cursor-pointer text-xs\">\n        <div onClick={() => copyShare()} title={shareTitle}>\n            <div \n            onMouseEnter={() => setShareTitle( shareTitle === \"Link copied\" \n                                ? \"Link copied\" :\"Copy Link\")} \n            onMouseLeave={() => setShareTitle( shareTitle === \"Link copied\" \n                                ? \"Link copied\" : \"Share\")}\n            >{shareTitle}</div>\n          </div>\n      </div>\n      <div className=\"text-center cursor-pointer\">\n        <Link to=\"/d9-music/themes/tw2-03/music\"><BtnBack /></Link>\n      </div>\n      \n      <div className=\"col-span-12 md:col-span-6\">\n        <div>\n          <div>\n            <h3 className=\"text-3xl my-5\">{arr[index].title}</h3>\n          </div>\n          <div>\n            <ImageOnload src={arr[index].image[0].url} />\n          </div>\n          <div className=\"my-6\">\n            <div dangerouslySetInnerHTML={{__html: arr[index].body}} />\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"col-span-12 md:col-span-6\">\n\n        <div className=\"px-10\">\n          <h3 className=\"py-4\">Shop</h3>\n          <div className=\"grid grid-cols-6 grid-rows-1\">\n            <div><RiAmazonFill /></div>\n            <div><FaSpotify /></div>\n            <div><FaGooglePlay /></div>\n            <div><SiApplemusic /></div>\n          </div>\n        </div>\n\n        <div className=\"px-10 py-8\">\n          <h3 className=\"py-4\">Listen</h3>\n          <div className=\"grid grid-cols-6 grid-rows-1\">\n            <div><FaYoutube /></div>\n            <div><FaSpotify /></div>\n            <div><SiApplemusic /></div>\n          </div>\n        </div>\n\n\n        <div className=\"px-10 py-8\">\n          <h3 className=\"py-4\">Play</h3>\n          <Iframe  \n            url=\"https://open.spotify.com/embed/playlist/37i9dQZF1DX3PFzdbtx1Us\" width=\"100%\" \n            height=\"380\" \n            id=\"myId\"\n            />\n        </div>\n\n        <div className=\"px-10 py-8\">\n          <Iframe \n            url={`https://www.youtube.com/embed/${youtube}`}\n            width=\"100%\"\n            id=\"myId\"\n          />  \n        </div>\n\n      </div>\n    </div>\n\n    </div>\n  )\n}\n\nexport default MusicDetail","import React,{useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {actionMusic} from '../redux/actions';\nimport MusicList from './Music/MusicList';\nimport {useParams} from 'react-router-dom';\nimport MusicDetail from './Music/MusicDetail';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction Music(){\n\n  const {id} = useParams();\n\n  const dispatch = useDispatch();\n\n/** RUN action  */\n  useEffect(()=>{\n    dispatch(actionMusic());\n  },[dispatch])\n\n/** DRUPAL DATA CREATED BY CONTENT TYPE */\n  const musicData = useSelector(state => state.reducerMusic.music_data.data);\n  const musicDataFetched = useSelector(state => state.reducerMusic.music_fetched);\n  const musicDataInc = useSelector(state => state.reducerMusic.music_data.included);\n\n\n    console.log(\"MUSIC DATA\", musicData);\n    console.log(\"FETCHED\", musicDataFetched);\n    console.log(\"INCLUDED\", musicDataInc);\n\n    \n    const [arr,setArr] = useState([]);\n\n    /** MERGE ARRAY BY id */\n    function audioArray( arr1,arr2){\n      const arr = [];\n\n      /** GET AUDIO URI AND PUSH INTO THE ARR */\n      function getAudioUri(audioId, arr2){\n        arr2.map(item=>{\n          return audioId === item.id \n          && arr.push(item.attributes.uri)\n        })\n      }\n\n      /** GET AUDIO ID AND RUN FUNCTION TO GET URI */\n      arr2.map( item => {\n      return item.type === 'media--audio' &&\n          arr1.some(el => el.id === item.id) \n          && getAudioUri(item.relationships.field_media_audio_file.data.id, arr2)\n      })\n\n      return arr;\n    }\n\n    /** GET IMAGE URI */\n    function imageArray(id, arr2){\n      \n      const arr = [];\n      \n      /** GET IMAGE URI */\n      function getUri(imageId, arr2){\n        arr2.map(item => {\n          return item.id === imageId &&\n          arr.push(item.attributes.uri)\n        })\n      }  \n\n      /** GET ID FOR IMAGE URI */\n      arr2.map( item => {\n        return id === item.id && \n        getUri(item.relationships.field_media_image.data.id, arr2);\n      });\n\n      /** RETURN IMAGE-URI IN ARRAY */\n      return arr;\n    \n    }\n\n    /** GET YOUTBE - VIDEO URL */\n    function videoArray(id, arr2){\n      const arr = [];\n      arr2.map( item => {\n        return id === item.id &&\n        arr.push({\n          youtube:item.attributes.field_media_oembed_video, \n          name: item.attributes.name})\n      })\n      return arr;\n    }\n\n\n    useEffect(()=>{\n      const arr = [];\n      musicDataFetched &&\n      musicData.map((item) => {\n        const { attributes:{title, field_music_body:{processed}} } = item;\n        const { relationships:{field_music_audio:{data: audio}}} = item;\n        const { relationships:{field_music_image:{data:{id: imageId} }}} = item;\n        const { relationships:{field_music_video:{data:{id: videoId} }}} = item;\n        return arr.push({\n          id: item.id, \n          title:title, \n          body: processed,\n          audio: audioArray(audio, musicDataInc),\n          image: imageArray(imageId, musicDataInc),\n          video: videoArray(videoId, musicDataInc),\n        })\n      });\n\n      setArr(arr);\n\n    },[musicData, musicDataFetched, musicDataInc])\n\n    console.log(\"NEW ARRAY\", arr, id);\n  \n\n  return(\n    <div className=\"max-w-screen-xl p-10 m-auto\">\n      { musicDataFetched ?\n        /** SECOND CODTIONTION */\n        id \n        ? <MusicDetail index={id} arr={arr} />\n        : <MusicList listdata={arr} />\n        /******/\n        : <LoadingBar />\n      }\n    </div>\n  )\n\n}\n\nexport default Music;"],"sourceRoot":""}