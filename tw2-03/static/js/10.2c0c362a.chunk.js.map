{"version":3,"sources":["components/ImageOnload.js","components/Buttons/BtnReadMore.js","page/News/NewsList02.js","page/News/NewsDetail02.js","page/News.js"],"names":["ImageOnload","src","alt","cssClass","useState","loading","setLoading","useEffect","img","Image","onload","width","height","className","BtnReadMore","link","to","NewsList02","image","article_id","date","title","body","readmore","index","substring","dangerouslySetInnerHTML","__html","onClick","NewsDetail02","News","dispatch","useDispatch","newsdata","useSelector","state","reducerNews","news_data","data","fetched","included","news_fetched","arr","setArr","viewReadMore","setViewReadMore","setIndex","setTitle","setDate","setImage","setBody","console","log","dataArr","getImageDetail","imageId","arr1","map","item","mediaId","id","push","relationships","field_media_image","meta","imageTitle","url","filter","el","attributes","uri","field_news_body","processed","field_news_date","field_news_media","actionNews","length","dateFormate","dt","Date","getDate","getMonth","getFullYear","status","incId"],"mappings":"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","file":"static/js/10.2c0c362a.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  //console.log(\"Image Onload loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n","import BtnReadMore from '../../components/Buttons/BtnReadMore';\nimport ImageOnload from '../../components/ImageOnload';\n\n\n\n\nfunction NewsList02({image,article_id,date, title, body, readmore, index}) {\n\n\n  return (\n      <div>\n          <div className=\"grid md:grid-cols-12 my-10 font-extralight\">\n                    <div className=\"col-span-3\">\n                      <div className=\"py-5 md:pr-5 m-5 md:border-r border-gray-400\">\n                        <ImageOnload src={image} alt=\"news\" />\n                      </div>\n                    </div>\n                    <div className=\"col-span-9\">\n                      <div>\n                        <p className=\"text-xs\">{article_id.substring(0,5)}...</p>\n                      </div>\n                      <div>{date}</div>\n                      <div><h3 className=\"text-2xl my-2\">{title}</h3></div>\n                      <div>\n                        <div dangerouslySetInnerHTML={{__html: body.substring(0, 200)}} />\n                      </div>\n                      <div className=\"my-5\">\n                        <div onClick={() => readmore(index, true)}><BtnReadMore link=\"#\" /></div>\n                      </div>\n                    </div>\n              </div>\n        \n\n\n        {/** NEWS DETAIL */}\n        {/* <div className={`${detail === '' ? 'hidden' : 'block'}`}>\n            <div \n            onClick={() => setDetail('')}\n            className=\"w-full flex justify-end p-5 cursor-pointer\" \n            title=\"close\"><GrClose />\n            </div>\n            <NewsDetails02 index={detail} />\n        </div> */}\n      \n    </div>\n  )\n}\n\nexport default NewsList02\n","import ImageOnload from '../../components/ImageOnload';\nimport {GrClose} from 'react-icons/gr';\n\n\nfunction NewsDetail02({ date, title, image, body, readmore}) {\n\n\n  return (\n    <div className=\"w-full max-w-screen-xl m-auto font-extralight\">\n\n      <div \n      className=\"w-full flex justify-end  cursor-pointer\" \n      title=\"close\"\n      onClick={() => readmore(0, false)}>\n        <GrClose />\n        </div>\n  \n      <div className=\"my-8 flex justify-end\">\n        {date}\n      </div>\n\n      <div>\n        <h2 className=\"text-4xl my-5 tracking-wider\">\n          {title}</h2>\n      </div>\n\n      <div>    \n        <ImageOnload \n            cssClass=\"md:w-1/2 object-cover pr-6 pb-5 pt-5 md:float-left md:border-r border-gray-300 mr-6\"\n            src={image} \n            alt=\"news\" />\n          \n        <div className=\"pl-10 ml-10 border-l-2 border-gray-300\" dangerouslySetInnerHTML={{__html: body }} />\n      </div>\n      \n    </div>\n  )\n}\n\nexport default NewsDetail02\n","import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {actionNews} from '../redux/actions';\nimport NewsList02 from './News/NewsList02';\nimport NewsDetail02 from './News/NewsDetail02';\n\n\n\nfunction News() {\n\n  /** fetching data via redux */\n  const dispatch = useDispatch();\n  const newsdata = useSelector(state => state.reducerNews.news_data);\n  const data = useSelector(state => state.reducerNews.news_data.data);\n  const inc_data = useSelector(state => state.reducerNews.news_data.included);\n  const fetched = useSelector(state => state.reducerNews.news_fetched);\n\n\n  /** SET compiled and simplified NEW ARRAY */\n  const [arr, setArr] = useState([]);\n  \n\n  /** VIEW READ-MORE PAGE CONTENTS */\n  const [viewReadMore, setViewReadMore] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [title, setTitle] = useState('');\n  const [date, setDate] = useState('');\n  const [image, setImage] = useState('');\n  const [body, setBody] = useState('');\n\n\n  console.log(\"news\",data,\"news length\", fetched, \"arr\", arr);\n\n  /** CREATING NEW 'arr' \n    * - Complied and Simlified Drupal Json data\n    * - Stored into  'arr' state \n    */\n  useEffect(()=>{\n\n    const {data, included} = newsdata; \n    //console.log(\"newsdata: \",data, included);\n\n    const dataArr = [];\n  \n    function getImageDetail(imageId){\n\n      const arr1 = [];\n\n      /** get Image URL */\n      function getImageUrl(mediaId){\n        return included.filter(el => el.id === mediaId).map(item =>{\n            return item.attributes.uri.url;\n        })\n      }\n\n      included.map(item =>{\n        // const {relationships:{field_media_image:{data:{id, meta:{alt, height, width, title}}}}} = item;\n        /** note: distructuring did not worked */\n        imageId === item.id &&\n        arr1.push({\n          id: item.id, \n          mediaId: item.relationships.field_media_image.data.id,\n          alt: item.relationships.field_media_image.data.meta.alt,\n          height: item.relationships.field_media_image.data.meta.height,\n          width: item.relationships.field_media_image.data.meta.width,\n          imageTitle: item.relationships.field_media_image.data.meta.title,\n          url: getImageUrl(item.relationships.field_media_image.data.id)\n        })\n      });\n\n      return arr1;\n    }\n\n\n    fetched &&\n    data.map(item=>{\n      const { id, attributes:{title, field_news_body:{processed:body}, field_news_date:date}} = item;\n      const { relationships:{field_news_media:{data:{id: imageId}}}} = item;\n      /** create new array */\n      return dataArr.push({\n        id: id, date:date, title:title, body: body, \n        image:[getImageDetail(imageId)]\n      });\n    });\n\n    console.log(\"ARRAY ONE\", dataArr)\n    setArr(dataArr);\n    \n\n  },[fetched, newsdata])\n\n  /** RUN REDUX ACTION TO LOAD DATA */\n  useEffect(()=>{\n    dispatch(actionNews());\n  },[dispatch])\n\n\n    /** CREATING NEW 'arr' \n    * - Complied and Simlified Drupal Json data\n    * - Stored into  'arr' state \n    */\n  // useEffect(()=>{\n  //   const newdata = [];\n  //   fetched && \n  //   data.map(item => {\n      \n  //     const {attributes:{title, field_news_body, field_news_date}} = item;\n\n  //     inc_data.map(inc => {\n        \n  //       const { attributes:{uri}, id } = inc;\n  //       /** stop repeat push */\n  //       const hasId = newdata.some((el) => el.incId === id);\n\n  //       if(inc.type === 'file--file' && !hasId){\n  //         newdata.push({\n  //           title: title, \n  //           body: field_news_body.processed, \n  //           date: field_news_date, \n  //           incId: id,\n  //           image: uri.url});\n  //       }\n  //       return setArr(newdata);\n  //     })\n  //   })\n  // },[data, inc_data, fetched])\n\n  \n  /** POPULATING ReadMore Page Components */\n  useEffect(()=>{\n    setTitle( arr.length > 0 && arr[index].title);\n    setImage( arr.length > 0 && arr[index].image[0].url);\n    setDate( arr.length > 0 && arr[index].date);\n    setBody( arr.length > 0 && arr[index].body);\n  },[arr, index])\n\n  //console.log(\"data arr news\", arr, \"index\", index, \"view readmore\", viewReadMore);\n  //console.log(title, date, image , body);\n\n  /** CHANGING DATE  \"D MMM, YYYY\" FORMATE  */\n  const dateFormate = (date) => {\n    const monthArr = [\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    const dt = new Date(date);\n    return dt.getDate()+\" \"+ monthArr[dt.getMonth()]+ \", \"+ dt.getFullYear()\n  }\n  \n  /** ReadMore function \n   * \"onClick\" from Child Component \"NewsList02\" status to \"True\"\n   * \"onClick\" from Child Component \"NewsDetail02\" status to \"False\"\n   */\n  const readmore = (index, status) => { \n    setViewReadMore(status)\n    setIndex(index)\n    //console.log(\"yes it is clicked\");\n  }\n\n  return (\n    <div className=\"max-w-screen-xl m-auto p-10\">\n      \n      <div className=\"w-full max-w-screen-xl m-auto p-10\">\n        <h2 className=\"text-3xl\">News</h2>\n        {/** NEWS LIST */}\n        {\n          arr.length > 0 && !viewReadMore &&\n          arr.map((item, index) =>{\n                return <NewsList02 \n                          title={item.title} \n                          date={dateFormate(item.date)}\n                          image={item.image[0].url} \n                          body={item.body}\n                          article_id={item.incId} \n                          index={index}\n                          readmore={readmore}\n                          /> })\n        }\n        {/** NEWS READMORE */}\n        { viewReadMore &&\n          <NewsDetail02 \n            date={dateFormate(date)}\n            title={title}\n            image={image}\n            body={body} \n            readmore={readmore}\n          />\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default News"],"sourceRoot":""}