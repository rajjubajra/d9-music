{"version":3,"sources":["components/ImageOnload.js","components/Buttons/BtnReadMore.js","page/News/NewsList02.js","page/News/NewsDetail02.js","page/News.js"],"names":["ImageOnload","src","alt","cssClass","useState","loading","setLoading","console","log","useEffect","img","Image","onload","width","height","className","BtnReadMore","link","to","NewsList02","image","article_id","date","title","body","readmore","index","dangerouslySetInnerHTML","__html","substring","onClick","NewsDetail02","News","dispatch","useDispatch","data","useSelector","state","reducerNews","news_data","inc_data","included","fetched","news_fetched","arr","setArr","viewReadMore","setViewReadMore","setIndex","setTitle","setDate","setImage","setBody","actionNews","newdata","map","item","attributes","field_news_body","field_news_date","inc","uri","id","hasId","some","el","incId","type","push","processed","url","length","dateFormat","dt","Date","getDate","getMonth","getFullYear"],"mappings":"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","file":"static/js/10.49526299.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  console.log(\"loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n","import BtnReadMore from '../../components/Buttons/BtnReadMore';\nimport ImageOnload from '../../components/ImageOnload';\n\n\n\n\nfunction NewsList02({image,article_id,date, title, body, readmore, index}) {\n\n\n  return (\n      <div>\n          <div className=\"grid md:grid-cols-12 my-10 font-extralight\">\n                    <div className=\"col-span-3\">\n                      <div className=\"py-5 md:pr-5 m-5 md:border-r border-gray-400\">\n                        <ImageOnload src={image} alt=\"news\" />\n                      </div>\n                    </div>\n                    <div className=\"col-span-9\">\n                      <div>\n                        <p className=\"text-xs\">{article_id}</p>\n                      </div>\n                      <div>{date}</div>\n                      <div><h3 className=\"text-2xl my-2\">{title}</h3></div>\n                      <div>\n                        <div dangerouslySetInnerHTML={{__html: body.substring(0, 200)}} />\n                      </div>\n                      <div className=\"my-5\">\n                        <div onClick={() => readmore(index)}><BtnReadMore link=\"#\" /></div>\n                      </div>\n                    </div>\n              </div>\n        \n\n\n        {/** NEWS DETAIL */}\n        {/* <div className={`${detail === '' ? 'hidden' : 'block'}`}>\n            <div \n            onClick={() => setDetail('')}\n            className=\"w-full flex justify-end p-5 cursor-pointer\" \n            title=\"close\"><GrClose />\n            </div>\n            <NewsDetails02 index={detail} />\n        </div> */}\n      \n    </div>\n  )\n}\n\nexport default NewsList02\n","import ImageOnload from '../../components/ImageOnload';\nimport {GrClose} from 'react-icons/gr';\n\n\nfunction NewsDetail02({ date, title, image, body}) {\n\n\n  return (\n    <div className=\"w-full max-w-screen-xl m-auto p-10\">\n\n      <div className=\"w-full flex justify-end p-5 cursor-pointer\" \n        title=\"close\">\n        <GrClose />\n        </div>\n  \n      <div className=\"my-8 flex justify-end\">\n        {date}\n      </div>\n\n      <div>\n        <h2 className=\"text-4xl my-5 tracking-wider\">\n          {title}</h2>\n      </div>\n\n      <div>    \n        <ImageOnload \n            cssClass=\"md:w-1/2 object-cover pr-6 pb-5 pt-5 md:float-left md:border-r border-gray-300 mr-6\"\n            src={image} \n            alt=\"news\" />\n          \n        <div className=\"pl-10 ml-10 border-l-2 border-gray-300\" dangerouslySetInnerHTML={{__html: body }} />\n      </div>\n      \n    </div>\n  )\n}\n\nexport default NewsDetail02\n","import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {actionNews} from '../redux/actions';\nimport NewsList02 from './News/NewsList02';\nimport NewsDetail02 from './News/NewsDetail02';\n\n\n\nfunction News() {\n\n  const dispatch = useDispatch();\n  const data = useSelector(state => state.reducerNews.news_data.data);\n  const inc_data = useSelector(state => state.reducerNews.news_data.included);\n  const fetched = useSelector(state => state.reducerNews.news_fetched);\n\n  const [arr, setArr] = useState([]);\n  \n  const [viewReadMore, setViewReadMore] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [title, setTitle] = useState('');\n  const [date, setDate] = useState('');\n  const [image, setImage] = useState('');\n  const [body, setBody] = useState('');\n\n  console.log(\"news\",data,\"news length\", fetched, \"arr\", arr);\n\n  useEffect(()=>{\n    dispatch(actionNews());\n  },[dispatch])\n\n\n  useEffect(()=>{\n    const newdata = [];\n    fetched && \n    data.map(item => {\n      const {attributes:{title, field_news_body, field_news_date}} = item;\n      inc_data.map(inc => {\n        \n        const { attributes:{uri}, id } = inc;\n        /** stop repeat push */\n        const hasId = newdata.some((el) => el.incId === id);\n\n        if(inc.type === 'file--file' && !hasId){\n              \n          newdata.push({\n            title: title, \n            body: field_news_body.processed, \n            data: field_news_date, \n            incId: id,\n            image: uri.url});\n        }\n        return setArr(newdata);\n      })\n    })\n  },[data, inc_data, fetched])\n\n  \n\n\n  /** Populate readmore component */\n  useEffect(()=>{\n    setTitle( arr.length > 0 && arr[index].title);\n    setImage( arr.length > 0 && arr[index].image);\n    setDate( arr.length > 0 && arr[index].data);\n    setBody( arr.length > 0 && arr[index].body);\n  },[arr, index])\n\n  console.log(\"data arr news\", arr, \"index\", index, \"view readmore\", viewReadMore);\n  console.log(title, date, image , body);\n\n  const dateFormat = (date) => {\n    const monthArr = [\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    const dt = new Date(date);\n    return dt.getDate()+\" \"+ monthArr[dt.getMonth()]+ \", \"+ dt.getFullYear()\n  }\n  \n  const readmore = (index) => { \n    setViewReadMore(true)\n    setIndex(index)\n    console.log(\"yes it is clicked\");\n  }\n\n  return (\n    <div className=\"max-w-screen-xl m-auto p-10\">\n      \n      <div className=\"w-full max-w-screen-xl m-auto p-10\">\n        <h2 className=\"text-3xl\">News</h2>\n        {/** NEWS LIST */}\n        {\n          arr.length > 0 && !viewReadMore &&\n          arr.map((item, index) =>{\n                return <NewsList02 \n                          title={item.title} \n                          date={dateFormat(item.data)}\n                          image={item.image} \n                          body={item.body}\n                          article_id={item.incId} \n                          index={index}\n                          readmore={readmore}\n                          /> })\n        }\n        {/** NEWS READMORE */}\n        { viewReadMore &&\n          <NewsDetail02 \n            date={date}\n            title={title}\n            image={image}\n            body={body} \n          />\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default News"],"sourceRoot":""}