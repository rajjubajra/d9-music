(this["webpackJsonptw2-01-music"]=this["webpackJsonptw2-01-music"]||[]).push([[7],{72:function(e,t,i){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,c=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(u){n=!0,c=u}finally{try{r||null==s.return||s.return()}finally{if(n)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i.d(t,"a",(function(){return n}))},77:function(e,t,i){"use strict";var r=i(72),n=i(0),c=i(3);t.a=function(e){var t=e.src,i=e.alt,a=e.cssClass,s=Object(n.useState)(!1),u=Object(r.a)(s,2),o=u[0],l=u[1],d=Object(n.useState)("hidden"),f=Object(r.a)(d,2),j=f[0],b=f[1];return console.log(o),Object(n.useEffect)((function(){o&&b("")}),[o]),Object(c.jsx)("img",{width:"100%",height:"100%",className:"".concat(j," ").concat(a),onLoad:function(){return l(!0)},onError:function(){return l(!1)},src:t,alt:i})}},771:function(e,t,i){"use strict";i.r(t);var r=i(72),n=i(0),c=i(16),a=i(19),s=i(80),u=i(77),o=i(3);var l=function(e){var t=e.listdata;return Object(o.jsx)("div",{className:"max-width-screen-xl m-auto p-10  grid grid-cols-1 grid-flow-row gap-6  md:grid-cols-2 lg:grid-cols-3 font-extralight",children:t.length>0&&t.map((function(e){return Object(o.jsxs)("div",{className:"w-full lg:max-w-screen-sm",children:[Object(o.jsx)("div",{children:Object(o.jsx)("h3",{className:"text-3xl py-4",children:e.title})}),Object(o.jsx)("div",{children:e.image&&Object(o.jsx)(u.a,{cssClass:"w-full h-64 object-cover",src:e.image[0].url,alt:"Cover"})}),Object(o.jsx)("div",{className:"py-4",children:Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:e.body.substring(0,400)}})}),Object(o.jsx)("div",{children:Object(o.jsx)(s.a,{link:"/d9-music/themes/tw2-01/music/".concat(e.id)})})]},e.id)}))})},d=i(4),f=[{title:"string",artist:"string",audioSrc:"string | import",image:"string",color:"string"}];var j=function(e){var t=e.url,i=(new Audio(t),Object(n.useState)(0)),c=Object(r.a)(i,2),a=c[0],s=(c[1],Object(n.useState)(0)),u=Object(r.a)(s,2),l=(u[0],u[1],Object(n.useState)(!1)),d=Object(r.a)(l,2),j=(d[0],d[1],f[a]),b=j.title,m=j.artist,h=(j.color,j.image),O=j.audioSrc,g=Object(n.useRef)(new Audio(O));return Object(n.useRef)(),Object(n.useRef)(!1),g.current.duration,Object(o.jsx)("div",{className:"audio-player",children:Object(o.jsxs)("div",{className:"track-info",children:[Object(o.jsx)("img",{src:h,alt:"track artwork"}),Object(o.jsx)("h2",{className:"title",children:b}),Object(o.jsx)("h3",{className:"artist",children:m})]})})};var b=function(e){return e.data.map((function(e){var t=e.title,i=e.url.url;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:t}),Object(o.jsx)(j,{url:i})]})}))};var m=function(e){var t=e.singleData;return console.log("single data",t),console.log("passsing",typeof t),console.log("If undefined",void 0!==t&&t.title),Object(o.jsx)("div",{children:void 0!==t&&Object(o.jsxs)("div",{className:"m-5 p-3",children:[Object(o.jsx)("h2",{className:"my-2",children:t.title}),Object(o.jsx)("ul",{className:"m-5 border p-4",children:Object(o.jsx)(u.a,{src:t.image[0].url,alt:"Cover"})}),Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:t.body}}),Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Play songs"}),Object(o.jsx)(b,{data:t.audio})]})]})})};t.default=function(){var e=Object(d.f)().id,t=Object(c.b)();Object(n.useEffect)((function(){t(Object(a.e)())}),[t]);var i=Object(c.c)((function(e){return e.reducerMusic.music_data.data})),s=Object(c.c)((function(e){return e.reducerMusic.music_fetched})),u=Object(c.c)((function(e){return e.reducerMusic.music_data.included})),f=Object(n.useState)([]),j=Object(r.a)(f,2),b=j[0],h=j[1],O=Object(n.useState)([]),g=Object(r.a)(O,2),p=g[0],v=g[1],x=Object(n.useState)([]),y=Object(r.a)(x,2),_=y[0],S=y[1],w=Object(n.useState)([]),I=Object(r.a)(w,2),N=I[0],E=I[1],A=Object(n.useState)(""),k=Object(r.a)(A,2),M=k[0],C=k[1];function R(e,t){var i=t.findIndex((function(t){return t.id===e}));return t[i].uri}function D(e,t){var i=t.findIndex((function(t){return t.id===e}));return t[i].filetype}function L(e,t){var i=[];return t.length>0&&e.length>0&&t.map((function(t){return e.some((function(e){return e.id===t.id}))&&i.push({id:t.id,title:t.audio_title,filetype:t.filetype,name:t.name,url:t.uri})})),i}function T(e,t){var i=t.findIndex((function(t){return t.id===e}));return[{id:t[i].id,filetype:t[i].filetype,name:t[i].name,url:t[i].uri.url}]}return Object(n.useEffect)((function(){var e=[];s&&u.map((function(t){return"file--file"===t.type&&e.push({id:t.id,uri:t.attributes.uri,filetype:t.attributes.filemime})})),h(e)}),[s,u]),Object(n.useEffect)((function(){var e=[];s&&u.map((function(t){return"file--file"!==t.type&&e.push({id:t.id,audio_title:"media--audio"===t.type?t.attributes.field_audio_title:null,name:t.attributes.name,mediaId:"media--audio"===t.type?t.relationships.field_media_audio_file.data.id:t.relationships.field_media_image.data.id})})),v(e)}),[s,u]),Object(n.useEffect)((function(){var e=[];p.length>0&&p.map((function(t){return e.push({id:t.id,name:t.name,audio_title:t.audio_title,uri:R(t.mediaId,b),filetype:D(t.mediaId,b)})})),S(e)}),[b,p]),console.log("Result",_),console.log("usethisData",N),Object(n.useEffect)((function(){var e=[];s&&i.map((function(t){var i=t.attributes,r=i.title,n=i.field_music_body.processed,c=t.relationships.field_music_audio.data,a=t.relationships.field_music_image.data.id;return e.push({id:t.id,title:r,body:n,audio:_.length>0&&L(c,_),image:_.length>0&&T(a,_)})})),E(e)}),[_,i,s]),Object(n.useEffect)((function(){var t=N.length>0&&e&&N.findIndex((function(t){return t.id===e}));console.log("INDEX",t),console.log("selected data",N[t]),console.log("type of data",typeof N[t]),C(N[t])}),[N,e]),console.log("Single data",M),Object(o.jsx)(o.Fragment,{children:e?Object(o.jsx)(m,{singleData:M}):N.length>0&&Object(o.jsx)(l,{listdata:N})})}},80:function(e,t,i){"use strict";var r=i(24),n=i(3);t.a=function(e){var t=e.link;return Object(n.jsx)("div",{children:Object(n.jsx)(r.b,{className:"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50",to:t,children:"Read More"})})}}}]);
//# sourceMappingURL=7.b114edd3.chunk.js.map