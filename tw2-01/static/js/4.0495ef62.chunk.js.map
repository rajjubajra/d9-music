{"version":3,"sources":["page/Homepage.js"],"names":["Homepage","data","useSelector","state","reducerHomePage","home_data","included","length","home_dataLength","fetched","home_fetched","console","log","useState","arr","setArr","useEffect","newArr","map","item","attributes","title","field_home_body","image","uri","url","imageWidth","relationships","field_media_image","meta","width","imageHeight","height","push","body","value","image_height","image_width","className","cssClass","src","alt","dangerouslySetInnerHTML","__html"],"mappings":"0KAwEeA,UAnEf,WAGE,IAAMC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAAgBC,UAAUJ,QAC5DK,EAAWJ,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAAgBC,UAAUC,YAChEC,EAASL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAAgBI,mBACpDC,EAAUP,aAAY,SAAAC,GAAK,OAAIA,EAAMC,gBAAgBM,gBAG3DC,QAAQC,IAAI,MAAMX,GAClBU,QAAQC,IAAI,MAAMN,GAClBK,QAAQC,IAAI,WAAWH,EAAS,SAAUF,GAE1C,MAAsBM,mBAAS,IAA/B,mBAAOC,EAAP,KAAYC,EAAZ,KA0BA,OAhBAC,qBAAU,WACR,IAAMC,EAAS,GACfR,GACGR,EAAKiB,KAAI,SAAAC,GACV,MAA8CA,EAAvCC,WAAYC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,gBACpBC,EAAQjB,EAAS,GAAGc,WAAWI,IAAIC,IACnCC,EAAapB,EAAS,GAAGqB,cAAcC,kBAAkB3B,KAAK4B,KAAKC,MACnEC,EAAczB,EAAS,GAAGqB,cAAcC,kBAAkB3B,KAAK4B,KAAKG,OACxEf,EAAOgB,KAAK,CAACZ,MAAOA,EAAOa,KAAMZ,EAAgBa,MAAOZ,MAAOA,EAAOa,aAAcL,EAAaM,YAAaX,OAElHX,EAAOE,KACP,CAAChB,EAAMQ,EAASH,IAElBK,QAAQC,IAAI,aAAaE,GAIvB,8BAEIA,EAAIP,OAAS,EACXO,EAAII,KAAI,SAAAC,GACR,OAAO,gCACL,oBAAImB,UAAU,WAAd,SAA0BnB,EAAKE,QAC/B,8BACE,cAAC,IAAD,CACAW,OAAQb,EAAKiB,aACbN,MAAOX,EAAKkB,YACZE,SAAS,OACTC,IAAKrB,EAAKI,MACVkB,IAAI,eAGN,8BACE,qBAAKC,wBAAyB,CAACC,OAAQxB,EAAKe,gBAIhD,cAAC,IAAD","file":"static/js/4.0495ef62.chunk.js","sourcesContent":["import React,{useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport LoadingBar from '../components/LoadingBar';\nimport ImageOnload from '../components/ImageOnload';\n\nfunction Homepage() {\n\n  //const dispatch = useDispatch();\n  const data = useSelector(state => state.reducerHomePage.home_data.data);\n  const included = useSelector(state => state.reducerHomePage.home_data.included);\n  const length = useSelector(state => state.reducerHomePage.home_dataLength );\n  const fetched = useSelector(state => state.reducerHomePage.home_fetched );\n\n\n  console.log(\"one\",data);\n  console.log(\"two\",included);\n  console.log(\"homepage\",fetched, \"length\", length);\n\n  const [arr, setArr] = useState([]);\n\n  \n\n\n  // useEffect(()=>{\n  //   console.log(\"action is runing\");\n  //     dispatch(actionHome());\n  // },[dispatch])\n\n  useEffect(()=>{\n    const newArr = [];\n    fetched\n    && data.map(item => {\n      const {attributes:{title, field_home_body}} = item;\n      const image = included[1].attributes.uri.url;\n      const imageWidth = included[0].relationships.field_media_image.data.meta.width;\n      const imageHeight = included[0].relationships.field_media_image.data.meta.height;\n        newArr.push({title: title, body: field_home_body.value, image: image, image_height: imageHeight, image_width: imageWidth})\n    })\n    setArr(newArr);\n  },[data, fetched, included]);\n\n  console.log(\"new array \",arr);\n\n\n  return (\n    <div>\n        {\n        arr.length > 0\n        ? arr.map(item=>{\n          return <div>\n            <h1 className=\"text-2xl\">{item.title}</h1>\n            <div>\n              <ImageOnload \n              height={item.image_height}\n              width={item.image_width}\n              cssClass=\"w-60\"\n              src={item.image} \n              alt=\"Homepage\" \n              />\n            </div>\n            <div>\n              <div dangerouslySetInnerHTML={{__html: item.body }}></div>\n            </div>\n          </div>\n        })\n        : <LoadingBar />\n        }\n        \n    </div>\n  )\n}\n\nexport default Homepage\n"],"sourceRoot":""}