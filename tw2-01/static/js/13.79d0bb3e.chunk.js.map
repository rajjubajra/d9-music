{"version":3,"sources":["components/ImageOnload.js","config/ajax.js","page/SubscriptionForm.js","page/ContactInfo.js","page/Contact.js"],"names":["ImageOnload","src","alt","cssClass","useState","status","setStatus","blur","setBlur","console","log","useEffect","width","height","className","onLoad","onError","singleton","a","tokenURL","baseurl","URL","axios","get","withCredentials","response","csrf_token","data","create","baseURL","headers","params","_format","error","SubscriptionForm","dispatch","useDispatch","form","useSelector","state","reducerSubscriptionForm","subscription_form_data","form_fetched","subscription_form_fetched","name","setName","email","setEmail","region","setRegion","country","setCountry","submitForm","setSubmitForm","actionSubscriptionForm","handleSubmit","e","preventDefault","webform_rest_url","ajax","post","attributes","title","description","settings","confirmation_message","onSubmit","method","class","required","type","id","placeholder","value","onChange","target","classes","val","dangerouslySetInnerHTML","__html","submission_exception_message","ContactInfo","reducerContactInfo","contact_info_data","inc","included","fetched","contact_info_fetched","actionContactInfo","uri","url","field_contact_email","field_contact_booking_agency","map","item","Contact"],"mappings":"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","file":"static/js/13.79d0bb3e.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [status, setStatus] = useState(false);\n  const [blur, setBlur] = useState('hidden');\n  console.log(status);\n\n  useEffect(()=>{\n    status && setBlur('');\n  },[status])\n\n  \n\n  return (\n    <img \n    width=\"100%\"\n    height=\"100%\"\n    className={`${blur} ${cssClass}`}\n    onLoad={()=>setStatus(true)}\n    onError={()=>setStatus(false)}\n    src={src} \n    alt={alt} \n    /> \n  )\n}\n\nexport default ImageOnload\n","import axios from 'axios'\nimport {baseurl} from './config'\n\n/*\n * Wrapper for axios AJAX library.\n * \n * Basically, we use axios directly. But before axios can be used,\n * - we create an new axios instance\n * - give than instance an AJAX fetched CSRF token, which it will send as header 'X-CSRF-Token' with every request\n * - tell the instance that it should include credentials (cookie) with every request\n * - tell the instance that it should include the query parameter \"?_format=json\" with every request\n * \n * Finally, we wrap this activity in a Promise and return it, so that callers can\n * rely on the promise to call their own callback on successful resolution of the promise\n * or an error handler if the promise gets rejected.\n */\nlet singleton = null // a singleton instance of axios that the default init function returns\n\n// note the 'async' keyword, it allows us to call 'await' later\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default async () => {\n  if(!singleton) {\n    const tokenURL = baseurl.URL + '/session/token';\n    try {\n      const response = await axios.get(tokenURL, {\n        withCredentials: true // required to send auth cookie\n      })\n      const csrf_token = response.data\n      singleton = axios.create({\n        baseURL: baseurl.URL, // every request is relative to this URL\n        withCredentials: true, // include auth cookie in every request\n        headers: { 'X-CSRF-Token': csrf_token }, // include this header in every request\n        params: { _format: 'json' }, // add these query params to every request\n      })\n      console.log('Created new axios instance', singleton)\n    } catch(error) {\n      console.error(error)\n    }\n  }\n  console.log(\"SINGLETON\",singleton);\n  return singleton\n\n}","import React, {useState, useEffect} from 'react';\nimport {baseurl} from '../config/config';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ajax from '../config/ajax';\nimport {actionSubscriptionForm} from '../redux/actions';\nimport { CountryDropdown, RegionDropdown } from 'react-country-region-selector';\n\n\n\nfunction SubscriptionForm() {\n\n  const dispatch = useDispatch();\n  const form = useSelector(state => state.reducerSubscriptionForm.subscription_form_data.data);\n  const form_fetched = useSelector(state => state.reducerSubscriptionForm.subscription_form_fetched);\n\n  //console.log(\"Conf message\", form_fetched && form);\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [region, setRegion] = useState('');\n  const [country, setCountry] = useState('');\n  const [submitForm, setSubmitForm] = useState(false);\n\n\n  useEffect(()=>{\n    \n    dispatch(actionSubscriptionForm())\n\n    submitForm &&\n    setName('');\n    setEmail('');\n    setRegion('');\n    setCountry('');\n\n\n  },[dispatch, submitForm])\n  \n\n\n  console.log(name, email, region, country,\"sumbited\", submitForm);\n\n  const handleSubmit = async (e) =>{\n    e.preventDefault();\n    /** NOTE: Permission need to allowed to anonymouse user\n     * RESTful Web Services\n     *   - Access POST on Webform Submit resource\n     */\n    \n    const data = {\n      \"webform_id\": \"fansclub\",\n      \"name\": name,\n      \"email\": email,\n      \"country\": country,\n      \"state\": region,\n    }\n    console.log(\"DATA submitted\",data);\n    const webform_rest_url = `${baseurl.URL}/webform_rest/submit`;\n\n    try{\n      const axios = await ajax(); //wait for initalized axios object\n      const response = await axios.post(webform_rest_url, data);\n      response.status === 200 && setSubmitForm(true);\n      console.log(\"Data Posted:\",response);\n    }catch(e){\n      console.log(\"Submit Error\",e);\n    }\n\n  }\n\n  return (\n    <div className=\"w-full md:p-10\">\n      <h1 className=\"text-3xl\">\n        {form_fetched && form.attributes.title} \n      </h1>\n      <div>\n        {form_fetched && !submitForm && form.attributes.description}\n      </div>\n      <div className=\"text-1xl\">\n        {submitForm && form_fetched && form.attributes.settings.confirmation_message }\n      </div>\n\n       {/** SUBSCRIPTION FORM */}\n      <div className={ submitForm ?  \"hidden\" : \"w-full flex\"}>\n        <form onSubmit={handleSubmit}  method=\"post\" class=\"w-full mt-5 flex flex-col\">\n        <div>\n          <input\n          className=\"w-full outline-none p-2 border-gray-500 \n          border\" \n          required\n          type=\"text\" \n          id=\"name\"  \n          name=\"name\"  \n          placeholder=\"Name\" \n          value={name}\n          onChange={(e)=>setName(e.target.value)}\n          />\n          <input \n          className=\"w-full outline-none border-gray-500 p-2\n          border-l border-r\"\n          required  \n          type=\"text\" \n          id=\"email\" \n          name=\"email\" \n          placeholder=\"Email\" \n          value={email}\n          onChange={(e)=>setEmail(e.target.value)}\n          />\n          <CountryDropdown \n          classes=\"w-full outline-none border-gray-500 p-2 border\"\n          required  \n          type=\"text\" \n          id=\"country\" \n          name=\"country\"\n          placeholder=\"Country\"\n          value={country}\n          onChange={(val)=>setCountry(val)}\n          />\n          <RegionDropdown\n          classes=\"border-l border-r border-b border-gray-500 outline-none px-3 py-2 w-full\"\n          country={country}\n          value={region}\n          onChange={(val) => setRegion(val)} />\n        </div>\n        \n        <div>\n          <input  \n          className=\"border border-gray-500 px-4 py-2 mt-5 hover:bg-gray-500 hover:text-white cursor-pointer\"  type=\"submit\" \n          id=\"submit\" \n          name=\"submit\" \n          value=\"Submit\" />\n        </div>          \n        </form>\n        \n      </div>\n  \n\n      {/** FORM SUBMITTED MESSAGE  */}\n      <div className={ submitForm ? \"flex\" : \"hidden\"} >\n        <div dangerouslySetInnerHTML={{__html:form_fetched \n        && form.attributes.settings.submission_exception_message}}  />\n      </div>\n  \n    </div>\n  )\n}\n\nexport default SubscriptionForm","import {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {actionContactInfo} from '../redux/actions';\nimport ImageOnload from '../components/ImageOnload';\n\n\nfunction ContactInfo() {\n\n  const dispatch = useDispatch()\n\n  const data = useSelector(state => state.reducerContactInfo.contact_info_data.data);\n  const inc  = useSelector(state => state.reducerContactInfo.contact_info_data.included);\n  const fetched = useSelector(state => state.reducerContactInfo.contact_info_fetched);\n  \n  useEffect(()=> {\n    dispatch(actionContactInfo());\n  },[dispatch]);\n\n  \n  return (\n        <>\n            <h2 className=\"text-3xl py-10\">Contact</h2>\n\n            <ImageOnload \n            cssClass=\"w-full h-40 md:w-1/2 md:h-96 object-cover\"\n            src={fetched && inc[1].attributes.uri.url} \n            alt=\"Music Page\"\n            />\n\n            <div className=\"py-10\">\n              <h3 className=\"text-2xl\">{fetched && data[0].attributes.title}</h3>\n              <p>{fetched && data[0].attributes.field_contact_email}</p>  \n            </div>\n\n            <div className=\"py-5 md:py-10\">\n              <h3 className=\"text-2xl mb-3\">Booking Agencies</h3>\n              <ul className=\"grid gap-y-4\">\n                {\n                  fetched && \n                  data[0].attributes.field_contact_booking_agency.map(item=>{\n                    return <li>{item.uri}|{item.title}</li>\n                  })\n                }\n              </ul>\n            </div>\n      </>\n  )\n}\n\nexport default ContactInfo\n","//import ContactForm from './ContactForm';\nimport SubscriptionFrom from './SubscriptionForm';\nimport ContactInfo from './ContactInfo';\n\n\n\nfunction Contact() {\n  \n\n  return (\n    <div className=\"grid grid-cols-12 max-w-screen-xl m-auto p-10\">\n      \n      <div className=\"col-span-12 md:col-span-4\">\n        <ContactInfo />\n      </div>\n\n      <div className=\"col-span-12 md:col-span-8 mt-10 md:mt-0\">\n        <SubscriptionFrom />\n      </div>\n      \n    </div>\n  )\n}\n\nexport default Contact"],"sourceRoot":""}