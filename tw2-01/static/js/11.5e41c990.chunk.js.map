{"version":3,"sources":["page/Music/MusicList.js","page/Music.js","components/ImageOnload.js","components/Buttons/BtnReadMore.js"],"names":["MusicList","Music","useParams","id","dispatch","useDispatch","useEffect","actionMusic","musicData","useSelector","state","reducerMusic","music_data","data","musicDataFetched","music_fetched","musicDataInc","included","console","log","useState","arr","setArr","audioArray","array1","array2","map","Map","forEach","item","set","get","Array","from","values","attributes","title","processed","field_music_body","audio","relationships","field_music_audio","image","field_music_image","video","field_music_video","push","body","className","ImageOnload","src","alt","cssClass","status","setStatus","blur","setBlur","width","height","onLoad","onError","BtnReadMore","link","to"],"mappings":"4LAsCeA,I,mCCiCAC,UAhEf,WAEeC,cAANC,GAAP,IAEMC,EAAWC,cAGjBC,qBAAU,WACRF,EAASG,iBACT,CAACH,IAGH,IAAMI,EAAYC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaC,WAAWC,QAC/DC,EAAmBL,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaI,iBAC3DC,EAAeP,aAAY,SAAAC,GAAK,OAAIA,EAAMC,aAAaC,WAAWK,YAGtEC,QAAQC,IAAI,aAAcX,GAC1BU,QAAQC,IAAI,UAAWL,GACvBI,QAAQC,IAAI,WAAYH,GAExB,MAAqBI,mBAAS,IAA9B,mBAAOC,EAAP,KAAWC,EAAX,KAEA,SAASC,EAAYC,EAAOC,GAC1B,IAAMC,EAAM,IAAIC,IAIhB,OAHAH,EAAOI,SAAQ,SAAAC,GAAI,OAAIH,EAAII,IAAID,EAAK1B,GAAI0B,MACxCJ,EAAOG,SAAQ,SAAAC,GAAI,OAAIH,EAAII,IAAID,EAAK1B,GAAb,2BAAqBuB,EAAIK,IAAIF,EAAK1B,KAAO0B,OAC7CG,MAAMC,KAAKP,EAAIQ,UA6BtC,OAzBE5B,qBAAU,WAER,IAAMe,EAAM,GACZP,GACAN,EAAUkB,KAAI,SAACG,GACb,MAA6DA,EAArDM,WAAYC,EAApB,EAAoBA,MAAyBC,EAA7C,EAA2BC,iBAAkBD,UACGE,EAAWV,EAAnDW,cAAeC,kBAAmB5B,KACM6B,EAAWb,EAAnDW,cAAeG,kBAAmB9B,KACM+B,EAAWf,EAAnDW,cAAeK,kBAAmBhC,KAC1C,OAAOQ,EAAIyB,KAAK,CACd3C,GAAI0B,EAAK1B,GACTiC,MAAMA,EACNW,KAAMV,EACNE,MAAOhB,EAAWgB,GAClBG,MAAOA,EACPE,MAAOA,OAIXtB,EAAOD,KAEP,CAACb,EAAWM,IAEdI,QAAQC,IAAI,YAAaE,GAGzB,qBAAK2B,UAAU,8BAAf,SACE,iD,0DCtCSC,IAzBf,YAA4C,IAAtBC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,SAE9B,EAA4BhC,oBAAS,GAArC,mBAAOiC,EAAP,KAAeC,EAAf,KACA,EAAwBlC,mBAAS,UAAjC,mBAAOmC,EAAP,KAAaC,EAAb,KASA,OARAtC,QAAQC,IAAIkC,GAEZ/C,qBAAU,WACR+C,GAAUG,EAAQ,MAClB,CAACH,IAKD,qBACAI,MAAM,OACNC,OAAO,OACPV,UAAS,UAAKO,EAAL,YAAaH,GACtBO,OAAQ,kBAAIL,GAAU,IACtBM,QAAS,kBAAIN,GAAU,IACvBJ,IAAKA,EACLC,IAAKA,M,gCCtBT,mBAYeU,IAVf,YAA8B,IAARC,EAAO,EAAPA,KACpB,OACE,8BACA,cAAC,IAAD,CACAd,UAAU,2FACVe,GAAID,EAFJ","file":"static/js/11.5e41c990.chunk.js","sourcesContent":["import React from 'react';\nimport BtnReadMore from '../../components/Buttons/BtnReadMore';\nimport ImageOnload from '../../components/ImageOnload';\n\nfunction MusicList({listdata}) {\n  return (\n    <div className=\"max-width-screen-xl m-auto p-10 \n                    grid grid-cols-1 grid-flow-row gap-6 \n                    md:grid-cols-2 lg:grid-cols-3\n                    font-extralight\">\n    {\n      listdata.length > 0 && listdata.map( item => {\n        return <div className=\"w-full\n                lg:max-w-screen-sm\" key={item.id}>\n        <div>\n          <h3 className=\"text-3xl py-4\">{item.title}</h3>\n        </div>\n        <div>\n          {\n            item.image && <ImageOnload \n            cssClass=\"w-full h-64 object-cover\" \n            src={item.image[0].url} \n            alt=\"Cover\"\n            />\n          }\n          \n        </div>\n        <div className=\"py-4\">\n          <div dangerouslySetInnerHTML={{__html: item.body.substring(0,400)}} />\n        </div>\n        <div><BtnReadMore link={`/d9-music/themes/tw2-01/music/${item.id}`} /></div>\n      </div>\n      })\n    }\n    </div>\n  )\n}\n\nexport default MusicList\n","import React,{useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {actionMusic} from '../redux/actions';\nimport MusicList from './Music/MusicList';\nimport {useParams} from 'react-router-dom';\nimport MusicDetail from './Music/MusicDetail';\n\nfunction Music(){\n\n  const {id} = useParams();\n\n  const dispatch = useDispatch();\n\n/** RUN action  */\n  useEffect(()=>{\n    dispatch(actionMusic());\n  },[dispatch])\n\n/** DRUPAL DATA CREATED BY CONTENT TYPE */\n  const musicData = useSelector(state => state.reducerMusic.music_data.data);\n  const musicDataFetched = useSelector(state => state.reducerMusic.music_fetched);\n  const musicDataInc = useSelector(state => state.reducerMusic.music_data.included);\n//const musicDataLength = useSelector(state => state.reducerMusic.music_dataLength);\n\n    console.log(\"MUSIC DATA\", musicData);\n    console.log(\"FETCHED\", musicDataFetched);\n    console.log(\"INCLUDED\", musicDataInc);\n\n    const [arr,setArr] = useState([]);\n\n    function audioArray( array1,array2){\n      const map = new Map();\n      array1.forEach(item => map.set(item.id, item));\n      array2.forEach(item => map.set(item.id, {...map.get(item.id),...item}))\n      const mergeArray = Array.from(map.values()); \n      return mergeArray;\n    }\n\n    useEffect(()=>{\n\n      const arr = [];\n      musicDataFetched &&\n      musicData.map((item) => {\n        const { attributes:{title, field_music_body:{processed}} } = item;\n        const { relationships:{field_music_audio:{data: audio}}} = item;\n        const { relationships:{field_music_image:{data: image}}} = item;\n        const { relationships:{field_music_video:{data: video}}} = item;\n        return arr.push({\n          id: item.id, \n          title:title, \n          body: processed,\n          audio: audioArray(audio),\n          image: image,\n          video: video,\n        })\n      });\n\n      setArr(arr);\n\n    },[musicData, musicDataFetched])\n\n    console.log(\"NEW ARRAY\", arr);\n\n  return(\n    <div className=\"max-w-screen-xl p-10 m-auto\">\n      <h3>Music Album</h3>\n    </div>\n  )\n\n}\n\nexport default Music;","import React, {useState, useEffect} from 'react'\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [status, setStatus] = useState(false);\n  const [blur, setBlur] = useState('hidden');\n  console.log(status);\n\n  useEffect(()=>{\n    status && setBlur('');\n  },[status])\n\n  \n\n  return (\n    <img \n    width=\"100%\"\n    height=\"100%\"\n    className={`${blur} ${cssClass}`}\n    onLoad={()=>setStatus(true)}\n    onError={()=>setStatus(false)}\n    src={src} \n    alt={alt} \n    /> \n  )\n}\n\nexport default ImageOnload\n","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n"],"sourceRoot":""}