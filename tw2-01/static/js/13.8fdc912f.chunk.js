(this["webpackJsonptw2-01-music"]=this["webpackJsonptw2-01-music"]||[]).push([[13],{77:function(e,t,c){"use strict";var n=c(72),r=c(0),a=c(3);t.a=function(e){var t=e.src,c=e.alt,s=e.cssClass,o=Object(r.useState)(!1),i=Object(n.a)(o,2),u=i[0],l=i[1],b=Object(r.useState)("hidden"),d=Object(n.a)(b,2),j=d[0],m=d[1];return console.log(u),Object(r.useEffect)((function(){u&&m("")}),[u]),Object(a.jsx)("img",{width:"100%",height:"100%",className:"".concat(j," ").concat(s),onLoad:function(){return l(!0)},onError:function(){return l(!1)},src:t,alt:c})}},779:function(e,t,c){"use strict";c.r(t);var n=c(175),r=c.n(n),a=c(176),s=c(72),o=c(0),i=c(6),u=c(16),l=c(7),b=c.n(l),d=null,j=Object(a.a)(r.a.mark((function e(){var t,c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=14;break}return t=i.a.URL+"/session/token",e.prev=2,e.next=5,b.a.get(t,{withCredentials:!0});case 5:c=e.sent,n=c.data,d=b.a.create({baseURL:i.a.URL,withCredentials:!0,headers:{"X-CSRF-Token":n},params:{_format:"json"}}),console.log("Created new axios instance",d),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:return console.log("SINGLETON",d),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e,null,[[2,11]])}))),m=c(19),f=c(773),x=c(3);var p=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.reducerSubscriptionForm.subscription_form_data.data})),c=Object(u.c)((function(e){return e.reducerSubscriptionForm.subscription_form_fetched}));console.log("Conf message",c&&t);var n=Object(o.useState)(""),l=Object(s.a)(n,2),b=l[0],d=l[1],p=Object(o.useState)(""),O=Object(s.a)(p,2),h=O[0],v=O[1],g=Object(o.useState)(""),w=Object(s.a)(g,2),y=w[0],N=w[1],_=Object(o.useState)(""),C=Object(s.a)(_,2),S=C[0],k=C[1],E=Object(o.useState)(!1),L=Object(s.a)(E,2),R=L[0],F=L[1];Object(o.useEffect)((function(){e(Object(m.h)()),R&&d(""),v(""),N(""),k("")}),[e,R]),console.log(b,h,y,S,"sumbited",R);var I=function(){var e=Object(a.a)(r.a.mark((function e(t){var c,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={webform_id:"subscription",name:b,email:h,city:y,country:S},n="".concat(i.a.URL,"/webform_rest/submit"),e.prev=3,e.next=6,j();case 6:return a=e.sent,e.next=9,a.post(n,c);case 9:200===e.sent.status&&F(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"w-full md:p-10",children:[Object(x.jsx)("h1",{className:"text-3xl",children:c&&t.attributes.title}),Object(x.jsx)("div",{children:c&&!R&&t.attributes.description}),Object(x.jsx)("div",{className:"text-1xl",children:R&&c&&t.attributes.settings.confirmation_message}),Object(x.jsx)("div",{className:"w-full flex",children:Object(x.jsxs)("form",{onSubmit:I,method:"post",class:"w-full mt-5 flex flex-col",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{className:"w-full outline-none p-2 border-gray-500  border",required:!0,type:"text",id:"name",name:"name",placeholder:"Name",value:b,onChange:function(e){return d(e.target.value)}}),Object(x.jsx)("input",{className:"w-full outline-none border-gray-500 p-2 border-l border-r",required:!0,type:"text",id:"email",name:"email",placeholder:"Email",value:h,onChange:function(e){return v(e.target.value)}}),Object(x.jsx)(f.a,{classes:"w-full outline-none border-gray-500 p-2 border",required:!0,type:"text",id:"country",name:"country",placeholder:"Country",value:S,onChange:function(e){return k(e)}}),Object(x.jsx)(f.b,{classes:"border-l border-r border-b border-gray-500 outline-none px-3 py-2 w-full",country:S,value:y,onChange:function(e){return N(e)}})]}),Object(x.jsx)("div",{children:Object(x.jsx)("input",{className:"border border-gray-300 px-3 py-2 hover:bg-gray-500 hover:text-white",type:"submit",id:"submit",name:"submit",value:"Submit"})})]})})]})},O=c(77);var h=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.reducerContactInfo.contact_info_data.data})),c=Object(u.c)((function(e){return e.reducerContactInfo.contact_info_data.included})),n=Object(u.c)((function(e){return e.reducerContactInfo.contact_info_fetched}));return Object(o.useEffect)((function(){e(Object(m.b)())}),[e]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{className:"text-3xl py-10",children:"Contact"}),Object(x.jsx)(O.a,{cssClass:"w-full h-40 md:w-1/2 md:h-96 object-cover",src:n&&c[1].attributes.uri.url,alt:"Music Page"}),Object(x.jsxs)("div",{className:"py-10",children:[Object(x.jsx)("h3",{className:"text-2xl",children:n&&t[0].attributes.title}),Object(x.jsx)("p",{children:n&&t[0].attributes.field_contact_email})]}),Object(x.jsxs)("div",{className:"py-5 md:py-10",children:[Object(x.jsx)("h3",{className:"text-2xl mb-3",children:"Booking Agencies"}),Object(x.jsx)("ul",{className:"grid gap-y-4",children:n&&t[0].attributes.field_contact_booking_agency.map((function(e){return Object(x.jsxs)("li",{children:[e.uri,"|",e.title]})}))})]})]})};t.default=function(){return Object(x.jsxs)("div",{className:"grid grid-cols-12 max-w-screen-xl m-auto p-10",children:[Object(x.jsx)("div",{className:"col-span-12 md:col-span-4",children:Object(x.jsx)(h,{})}),Object(x.jsx)("div",{className:"col-span-12 md:col-span-8 mt-10 md:mt-0",children:Object(x.jsx)(p,{})})]})}}}]);
//# sourceMappingURL=13.8fdc912f.chunk.js.map