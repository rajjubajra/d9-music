{"version":3,"sources":["components/ImageOnload.js","page/Music/MusicList.js","page/Music.js","components/Buttons/BtnReadMore.js"],"names":["ImageOnload","src","alt","cssClass","useState","status","setStatus","blur","setBlur","console","log","useEffect","width","height","className","onLoad","onError","MusicList","listdata","length","map","item","title","image","url","dangerouslySetInnerHTML","__html","body","substring","BtnReadMore","link","id","Music","useParams","dispatch","useDispatch","actionMusic","musicData","useSelector","state","reducerMusic","music_data","data","musicDataFetched","music_fetched","musicDataInc","included","arr","setArr","audioArray","arr1","arr2","type","some","el","audioId","push","attributes","uri","getAudioUri","relationships","field_media_audio_file","imageArray","imageId","getUri","field_media_image","videoArray","youtube","field_media_oembed_video","name","processed","field_music_body","audio","field_music_audio","field_music_image","videoId","field_music_video","video","to"],"mappings":"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","file":"static/js/11.45645462.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [status, setStatus] = useState(false);\n  const [blur, setBlur] = useState('hidden');\n  console.log(status);\n\n  useEffect(()=>{\n    status && setBlur('');\n  },[status])\n\n  \n\n  return (\n    <img \n    width=\"100%\"\n    height=\"100%\"\n    className={`${blur} ${cssClass}`}\n    onLoad={()=>setStatus(true)}\n    onError={()=>setStatus(false)}\n    src={src} \n    alt={alt} \n    /> \n  )\n}\n\nexport default ImageOnload\n","import React from 'react';\nimport BtnReadMore from '../../components/Buttons/BtnReadMore';\nimport ImageOnload from '../../components/ImageOnload';\n\nfunction MusicList({listdata}) {\n  return (\n    <div className=\"max-width-screen-xl m-auto p-10 \n                    grid grid-cols-1 grid-flow-row gap-6 \n                    md:grid-cols-2 lg:grid-cols-3\n                    font-extralight\">\n    {\n      listdata.length > 0 \n      && listdata.map( item => {\n        return <div className=\"w-full lg:max-w-screen-sm\" key={item.id}>\n          <div>\n            <h3 className=\"text-3xl py-4\">{item.title}</h3>\n          </div>\n        <div>\n          {\n            item.image && <ImageOnload \n            cssClass=\"w-full h-64 object-cover\" \n            src={item.image[0].url} \n            alt=\"Cover\"\n            />\n          }\n          \n        </div>\n        <div className=\"py-4\">\n          <div dangerouslySetInnerHTML={{__html: item.body.substring(0,400)}} />\n        </div>\n        <div><BtnReadMore link={`/d9-music/themes/tw2-01/music/${item.id}`} /></div>\n      </div>\n      })\n    }\n    </div>\n  )\n}\n\nexport default MusicList\n","import React,{useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {actionMusic} from '../redux/actions';\nimport MusicList from './Music/MusicList';\nimport {useParams} from 'react-router-dom';\nimport MusicDetail from './Music/MusicDetail';\n\nfunction Music(){\n\n  const {id} = useParams();\n\n  const dispatch = useDispatch();\n\n/** RUN action  */\n  useEffect(()=>{\n    dispatch(actionMusic());\n  },[dispatch])\n\n/** DRUPAL DATA CREATED BY CONTENT TYPE */\n  const musicData = useSelector(state => state.reducerMusic.music_data.data);\n  const musicDataFetched = useSelector(state => state.reducerMusic.music_fetched);\n  const musicDataInc = useSelector(state => state.reducerMusic.music_data.included);\n\n\n    console.log(\"MUSIC DATA\", musicData);\n    console.log(\"FETCHED\", musicDataFetched);\n    console.log(\"INCLUDED\", musicDataInc);\n\n    \n    const [arr,setArr] = useState([]);\n\n    /** MERGE ARRAY BY id */\n    function audioArray( arr1,arr2){\n      const arr = [];\n\n      /** GET AUDIO URI AND PUSH INTO THE ARR */\n      function getAudioUri(audioId, arr2){\n        arr2.map(item=>{\n          return audioId === item.id \n          && arr.push(item.attributes.uri)\n        })\n      }\n\n      /** GET AUDIO ID AND RUN FUNCTION TO GET URI */\n      arr2.map( item => {\n      return item.type === 'media--audio' &&\n          arr1.some(el => el.id === item.id) \n          && getAudioUri(item.relationships.field_media_audio_file.data.id, arr2)\n      })\n\n      return arr;\n    }\n\n    /** GET IMAGE URI */\n    function imageArray(id, arr2){\n      \n      const arr = [];\n      \n      /** GET IMAGE URI */\n      function getUri(imageId, arr2){\n        arr2.map(item => {\n          return item.id === imageId &&\n          arr.push(item.attributes.uri)\n        })\n      }  \n\n      /** GET ID FOR IMAGE URI */\n      arr2.map( item => {\n        return id === item.id && \n        getUri(item.relationships.field_media_image.data.id, arr2);\n      });\n\n      /** RETURN IMAGE-URI IN ARRAY */\n      return arr;\n    \n    }\n\n    /** GET YOUTBE - VIDEO URL */\n    function videoArray(id, arr2){\n      const arr = [];\n      arr2.map( item => {\n        return id === item.id &&\n        arr.push({\n          youtube:item.attributes.field_media_oembed_video, \n          name: item.attributes.name})\n      })\n      return arr;\n    }\n\n\n    useEffect(()=>{\n      const arr = [];\n      musicDataFetched &&\n      musicData.map((item) => {\n        const { attributes:{title, field_music_body:{processed}} } = item;\n        const { relationships:{field_music_audio:{data: audio}}} = item;\n        const { relationships:{field_music_image:{data:{id: imageId} }}} = item;\n        const { relationships:{field_music_video:{data:{id: videoId} }}} = item;\n        return arr.push({\n          id: item.id, \n          title:title, \n          body: processed,\n          audio: audioArray(audio, musicDataInc),\n          image: imageArray(imageId, musicDataInc),\n          video: videoArray(videoId, musicDataInc),\n        })\n      });\n\n      setArr(arr);\n\n    },[musicData, musicDataFetched, musicDataInc])\n\n    console.log(\"NEW ARRAY\", arr);\n  \n\n  return(\n    <div className=\"max-w-screen-xl p-10 m-auto\">\n      <MusicList listdata={arr} />\n    </div>\n  )\n\n}\n\nexport default Music;","import {Link} from 'react-router-dom';\n\nfunction BtnReadMore({link}) {\n  return (\n    <div>\n    <Link \n    className=\"text-sm font-light border border-gray-500 px-5 py-2 hover:bg-gray-500 hover:text-gray-50\" \n    to={link} >Read More</Link>  \n    </div>\n  )\n}\n\nexport default BtnReadMore\n"],"sourceRoot":""}