{"code":"(this[\"webpackJsonptw2-01-music\"]=this[\"webpackJsonptw2-01-music\"]||[]).push([[13],{77:function(e,t,c){\"use strict\";var n=c(72),r=c(0),a=c(12),s=c(3);t.a=function(e){var t=e.src,c=e.alt,i=e.cssClass,o=Object(r.useState)(!1),l=Object(n.a)(o,2),u=l[0],b=l[1];return console.log(\"loading\",u),Object(r.useEffect)((function(){var e=new Image;e.onload=function(){b(!0)},e.src=t}),[t]),u?Object(s.jsx)(\"img\",{width:\"100%\",height:\"100%\",className:i,src:t,alt:c}):Object(s.jsx)(a.a,{})}},779:function(e,t,c){\"use strict\";c.r(t);var n=c(175),r=c.n(n),a=c(176),s=c(72),i=c(0),o=c(7),l=c(16),u=c(10),b=c.n(u),d=null,j=Object(a.a)(r.a.mark((function e(){var t,c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d){e.next=14;break}return t=o.a.URL+\"/session/token\",e.prev=2,e.next=5,b.a.get(t,{withCredentials:!0});case 5:c=e.sent,n=c.data,d=b.a.create({baseURL:o.a.URL,withCredentials:!0,headers:{\"X-CSRF-Token\":n},params:{_format:\"json\"}}),console.log(\"Created new axios instance\",d),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:return console.log(\"SINGLETON\",d),e.abrupt(\"return\",d);case 16:case\"end\":return e.stop()}}),e,null,[[2,11]])}))),m=c(19),f=c(773),x=c(3);var p=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducerSubscriptionForm.subscription_form_data.data})),c=Object(l.c)((function(e){return e.reducerSubscriptionForm.subscription_form_fetched})),n=Object(i.useState)(\"\"),u=Object(s.a)(n,2),b=u[0],d=u[1],p=Object(i.useState)(\"\"),O=Object(s.a)(p,2),h=O[0],v=O[1],g=Object(i.useState)(\"\"),w=Object(s.a)(g,2),y=w[0],_=w[1],N=Object(i.useState)(\"\"),C=Object(s.a)(N,2),S=C[0],k=C[1],E=Object(i.useState)(!1),I=Object(s.a)(E,2),L=I[0],R=I[1];Object(i.useEffect)((function(){e(Object(m.h)()),L&&d(\"\"),v(\"\"),_(\"\"),k(\"\")}),[e,L]),console.log(b,h,y,S,\"sumbited\",L);var F=function(){var e=Object(a.a)(r.a.mark((function e(t){var c,n,a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={webform_id:\"fansclub\",name:b,email:h,country:S,state:y},console.log(\"DATA submitted\",c),n=\"\".concat(o.a.URL,\"/webform_rest/submit\"),e.prev=4,e.next=7,j();case 7:return a=e.sent,e.next=10,a.post(n,c);case 10:200===(s=e.sent).status&&R(!0),console.log(\"Data Posted:\",s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(\"Submit Error\",e.t0);case 18:case\"end\":return e.stop()}}),e,null,[[4,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(\"div\",{className:\"w-full md:p-10\",children:[Object(x.jsx)(\"h1\",{className:\"text-3xl\",children:c&&t.attributes.title}),Object(x.jsx)(\"div\",{children:c&&!L&&t.attributes.description}),Object(x.jsx)(\"div\",{className:\"text-1xl\",children:L&&c&&t.attributes.settings.confirmation_message}),Object(x.jsx)(\"div\",{className:L?\"hidden\":\"w-full flex\",children:Object(x.jsxs)(\"form\",{onSubmit:F,method:\"post\",class:\"w-full mt-5 flex flex-col\",children:[Object(x.jsxs)(\"div\",{children:[Object(x.jsx)(\"input\",{className:\"w-full outline-none p-2 border-gray-500  border\",required:!0,type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",value:b,onChange:function(e){return d(e.target.value)}}),Object(x.jsx)(\"input\",{className:\"w-full outline-none border-gray-500 p-2 border-l border-r\",required:!0,type:\"text\",id:\"email\",name:\"email\",placeholder:\"Email\",value:h,onChange:function(e){return v(e.target.value)}}),Object(x.jsx)(f.a,{classes:\"w-full outline-none border-gray-500 p-2 border\",required:!0,type:\"text\",id:\"country\",name:\"country\",placeholder:\"Country\",value:S,onChange:function(e){return k(e)}}),Object(x.jsx)(f.b,{classes:\"border-l border-r border-b border-gray-500 outline-none px-3 py-2 w-full\",country:S,value:y,onChange:function(e){return _(e)}})]}),Object(x.jsx)(\"div\",{children:Object(x.jsx)(\"input\",{className:\"border border-gray-500 px-4 py-2 mt-5 hover:bg-gray-500 hover:text-white cursor-pointer\",type:\"submit\",id:\"submit\",name:\"submit\",value:\"Submit\"})})]})}),Object(x.jsx)(\"div\",{className:L?\"flex\":\"hidden\",children:Object(x.jsx)(\"div\",{dangerouslySetInnerHTML:{__html:c&&t.attributes.settings.submission_exception_message}})})]})},O=c(77);var h=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.reducerContactInfo.contact_info_data.data})),c=Object(l.c)((function(e){return e.reducerContactInfo.contact_info_data.included})),n=Object(l.c)((function(e){return e.reducerContactInfo.contact_info_fetched}));return Object(i.useEffect)((function(){e(Object(m.b)())}),[e]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(\"h2\",{className:\"text-3xl py-10\",children:\"Contact\"}),Object(x.jsx)(O.a,{cssClass:\"w-full h-40 md:w-1/2 md:h-96 object-cover\",src:n&&c[1].attributes.uri.url,alt:\"Music Page\"}),Object(x.jsxs)(\"div\",{className:\"py-10\",children:[Object(x.jsx)(\"h3\",{className:\"text-2xl\",children:n&&t[0].attributes.title}),Object(x.jsx)(\"p\",{children:n&&t[0].attributes.field_contact_email})]}),Object(x.jsxs)(\"div\",{className:\"py-5 md:py-10\",children:[Object(x.jsx)(\"h3\",{className:\"text-2xl mb-3\",children:\"Booking Agencies\"}),Object(x.jsx)(\"ul\",{className:\"grid gap-y-4\",children:n&&t[0].attributes.field_contact_booking_agency.map((function(e){return Object(x.jsxs)(\"li\",{children:[e.uri,\"|\",e.title]})}))})]})]})};t.default=function(){return Object(x.jsxs)(\"div\",{className:\"grid grid-cols-12 max-w-screen-xl m-auto p-10\",children:[Object(x.jsx)(\"div\",{className:\"col-span-12 md:col-span-4\",children:Object(x.jsx)(h,{})}),Object(x.jsx)(\"div\",{className:\"col-span-12 md:col-span-8 mt-10 md:mt-0\",children:Object(x.jsx)(p,{})})]})}}}]);","name":"static/js/13.5b353bce.chunk.js","map":{"version":3,"sources":["static/js/13.5b353bce.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","_Users_rajju_Sites_REACT_WEBSITES_d9_music_tw2_02_music_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_components_LoadingBar__WEBPACK_IMPORTED_MODULE_2__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__","_ref","src","alt","cssClass","_useState","Object","_useState2","loading","setLoading","console","log","img","Image","onload","width","height","className","r","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","react","config","es","node_modules_axios","axios_default","singleton","ajax","a","mark","_callee","tokenURL","response","csrf_token","wrap","_context","prev","next","URL","get","withCredentials","sent","data","create","baseURL","headers","params","_format","t0","error","abrupt","stop","actions","rcrs_es","jsx_runtime","page_SubscriptionForm","dispatch","form","state","reducerSubscriptionForm","subscription_form_data","form_fetched","subscription_form_fetched","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","region","setRegion","_useState7","_useState8","country","setCountry","_useState9","_useState10","submitForm","setSubmitForm","handleSubmit","e","webform_rest_url","axios","preventDefault","webform_id","concat","post","status","_x","apply","arguments","children","attributes","title","description","settings","confirmation_message","onSubmit","method","class","required","type","id","placeholder","value","onChange","target","classes","val","dangerouslySetInnerHTML","__html","submission_exception_message","ImageOnload","page_ContactInfo","reducerContactInfo","contact_info_data","inc","included","fetched","contact_info_fetched","uri","url","field_contact_email","field_contact_booking_agency","map","item"],"mappings":"CAACA,KAAK,4BAA8BA,KAAK,6BAA+B,IAAIC,KAAK,CAAC,CAAC,IAAI,CAEjF,GACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACqB,IAAIC,EAA4ID,EAAoB,IAChKE,EAAqCF,EAAoB,GAEzDG,EAAsDH,EAAoB,IAC1EI,EAAiDJ,EAAoB,GAI+RD,EAAuB,EAFpZ,SAAqBM,GAAM,IAAIC,EAAID,EAAKC,IAAIC,EAAIF,EAAKE,IAAIC,EAASH,EAAKG,SAAaC,EAAUC,OAAOR,EAA6C,SAApDQ,EAAuD,GAAOC,EAAWD,OAAOT,EAA2J,EAAlKS,CAAqKD,EAAU,GAAGG,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAE7V,OADxCG,QAAQC,IAAI,UAAUH,GAASF,OAAOR,EAA8C,UAArDQ,EAAwD,WAAW,IAAIM,EAAI,IAAIC,MAAQD,EAAIE,OAAO,WACjIL,GAAW,IAAQG,EAAIV,IAAIA,IAAM,CAACA,IAAaM,EAAqBF,OAAON,EAAoD,IAA3DM,CAA8D,MAAM,CAACS,MAAM,OAAOC,OAAO,OAAOC,UAAUb,EAASF,IAAIA,EAAIC,IAAIA,IAAmBG,OAAON,EAAoD,IAA3DM,CAA8DP,EAAqE,EAAE,MAIrV,IACA,SAAUL,EAAQC,EAAqBC,GAE7C,aAEAA,EAAoBsB,EAAEvB,GAGtB,IAAIwB,EAAcvB,EAAoB,KAClCwB,EAAmCxB,EAAoByB,EAAEF,GAGzDG,EAAmB1B,EAAoB,KAGvC2B,EAAgB3B,EAAoB,IAGpC4B,EAAQ5B,EAAoB,GAG5B6B,EAAS7B,EAAoB,GAG7B8B,EAAK9B,EAAoB,IAGzB+B,EAAqB/B,EAAoB,IACzCgC,EAA6BhC,EAAoByB,EAAEM,GAehDE,EAAU,KAGgBC,EAAqBxB,OAAOgB,EAAkC,EAAvD,CAAuEF,EAAoBW,EAAEC,MAAK,SAASC,IAAU,IAAIC,EAASC,EAASC,EAAW,OAAOhB,EAAoBW,EAAEM,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAE,GAAGX,EAAU,CAACS,EAASE,KAAK,GAAG,MAA+F,OAAxFN,EAAST,EAAwB,EAAEgB,IAAI,iBAAiBH,EAASC,KAAK,EAAED,EAASE,KAAK,EAASZ,EAAcG,EAAEW,IAAIR,EAAS,CAACS,iBAAgB,IAChe,KAAK,EAAER,EAASG,EAASM,KAAKR,EAAWD,EAASU,KAAKhB,EAAUD,EAAcG,EAAEe,OAAO,CAACC,QAAQtB,EAAwB,EAAEgB,IAC9HE,iBAAgB,EAChBK,QAAQ,CAAC,eAAeZ,GACxBa,OAAO,CAACC,QAAQ,UACbxC,QAAQC,IAAI,6BAA6BkB,GAAWS,EAASE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAASC,KAAK,GAAGD,EAASa,GAAGb,EAAgB,MAAE,GAAG5B,QAAQ0C,MAAMd,EAASa,IAAI,KAAK,GAAsC,OAAnCzC,QAAQC,IAAI,YAAYkB,GAAkBS,EAASe,OAAO,SAASxB,GAAW,KAAK,GAAG,IAAI,MAAM,OAAOS,EAASgB,UAAWrB,EAAQ,KAAK,CAAC,CAAC,EAAE,UAEnTsB,EAAU3D,EAAoB,IAG9B4D,EAAU5D,EAAoB,KAG9B6D,EAAc7D,EAAoB,GAO29F,IAAI8D,EAJrgG,WAA4B,IAAIC,EAASrD,OAAOoB,EAAwB,EAA/BpB,GAAwCsD,EAAKtD,OAAOoB,EAAwB,EAA/BpB,EAAkC,SAASuD,GAAO,OAAOA,EAAMC,wBAAwBC,uBAAuBlB,QAAYmB,EAAa1D,OAAOoB,EAAwB,EAA/BpB,EAAkC,SAASuD,GAAO,OAAOA,EAAMC,wBAAwBG,6BAChT5D,EAAUC,OAAOkB,EAAgB,SAAvBlB,CAA0B,IAAIC,EAAWD,OAAOiB,EAA+B,EAAtCjB,CAAyCD,EAAU,GAAG6D,EAAK3D,EAAW,GAAG4D,EAAQ5D,EAAW,GAAO6D,EAAW9D,OAAOkB,EAAgB,SAAvBlB,CAA0B,IAAI+D,EAAW/D,OAAOiB,EAA+B,EAAtCjB,CAAyC8D,EAAW,GAAGE,EAAMD,EAAW,GAAGE,EAASF,EAAW,GAAOG,EAAWlE,OAAOkB,EAAgB,SAAvBlB,CAA0B,IAAImE,EAAWnE,OAAOiB,EAA+B,EAAtCjB,CAAyCkE,EAAW,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAAWtE,OAAOkB,EAAgB,SAAvBlB,CAA0B,IAAIuE,EAAWvE,OAAOiB,EAA+B,EAAtCjB,CAAyCsE,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAW1E,OAAOkB,EAAgB,SAAvBlB,EAA0B,GAAO2E,EAAY3E,OAAOiB,EAA+B,EAAtCjB,CAAyC0E,EAAW,GAAGE,EAAWD,EAAY,GAAGE,EAAcF,EAAY,GAAG3E,OAAOkB,EAAiB,UAAxBlB,EAA2B,WAAWqD,EAASrD,OAAOiD,EAAwC,EAA/CjD,IAAqD4E,GAAYf,EAAQ,IAAII,EAAS,IAAII,EAAU,IAAII,EAAW,MAAM,CAACpB,EAASuB,IAAaxE,QAAQC,IAAIuD,EAAKI,EAAMI,EAAOI,EAAQ,WAAWI,GAAY,IAAIE,EAA0B,WAAW,IAAInF,EAAKK,OAAOgB,EAAkC,EAAzChB,CAAyDc,EAAoBW,EAAEC,MAAK,SAASC,EAAQoD,GAAG,IAAIxC,EAAKyC,EAAiBC,EAAMpD,EAAS,OAAOf,EAAoBW,EAAEM,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAG9kC,OAHglC6C,EAAEG,iBAGh0C3C,EAAK,CAAC4C,WAAa,WAAWvB,KAAOA,EAAKI,MAAQA,EAAMQ,QAAUA,EAAQjB,MAAQa,GAAQhE,QAAQC,IAAI,iBAAiBkC,GAAMyC,EAAiB,GAAGI,OAAOjE,EAAwB,EAAEgB,IAAI,wBAAwBH,EAASC,KAAK,EAAED,EAASE,KAAK,EAASV,IAAO,KAAK,EAAuC,OAArCyD,EAAMjD,EAASM,KAAKN,EAASE,KAAK,GAAU+C,EAAMI,KAAKL,EAAiBzC,GAAM,KAAK,GAA4C,OAAzCV,EAASG,EAASM,MAAcgD,QAAcT,GAAc,GAAMzE,QAAQC,IAAI,eAAewB,GAAUG,EAASE,KAAK,GAAG,MAAM,KAAK,GAAGF,EAASC,KAAK,GAAGD,EAASa,GAAGb,EAAgB,MAAE,GAAG5B,QAAQC,IAAI,eAAe2B,EAASa,IAAI,KAAK,GAAG,IAAI,MAAM,OAAOb,EAASgB,UAAWrB,EAAQ,KAAK,CAAC,CAAC,EAAE,UAAU,OAAO,SAAsB4D,GAAI,OAAO5F,EAAK6F,MAAMtG,KAAKuG,YAH8W,GAG7V,OAAmBzF,OAAOmD,EAAkB,KAAzBnD,CAA4B,MAAM,CAACW,UAAU,iBAAiB+E,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,KAAK,CAACW,UAAU,WAAW+E,SAAShC,GAAcJ,EAAKqC,WAAWC,QAAqB5F,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAAC0F,SAAShC,IAAekB,GAAYtB,EAAKqC,WAAWE,cAA2B7F,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAACW,UAAU,WAAW+E,SAASd,GAAYlB,GAAcJ,EAAKqC,WAAWG,SAASC,uBAAoC/F,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAACW,UAAUiE,EAAW,SAAS,cAAcc,SAAsB1F,OAAOmD,EAAkB,KAAzBnD,CAA4B,OAAO,CAACgG,SAASlB,EAAamB,OAAO,OAAOC,MAAM,4BAA4BR,SAAS,CAAc1F,OAAOmD,EAAkB,KAAzBnD,CAA4B,MAAM,CAAC0F,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,QAAQ,CAACW,UAAU,kDAAkDwF,UAAS,EAAKC,KAAK,OAAOC,GAAG,OAAOzC,KAAK,OAAO0C,YAAY,OAAOC,MAAM3C,EAAK4C,SAAS,SAAkBzB,GAAG,OAAOlB,EAAQkB,EAAE0B,OAAOF,UAAwBvG,OAAOmD,EAAiB,IAAxBnD,CAA2B,QAAQ,CAACW,UAAU,4DAA4DwF,UAAS,EAAKC,KAAK,OAAOC,GAAG,QAAQzC,KAAK,QAAQ0C,YAAY,QAAQC,MAAMvC,EAAMwC,SAAS,SAAkBzB,GAAG,OAAOd,EAASc,EAAE0B,OAAOF,UAAwBvG,OAAOmD,EAAiB,IAAxBnD,CAA2BkD,EAAiC,EAAE,CAACwD,QAAQ,iDAAiDP,UAAS,EAAKC,KAAK,OAAOC,GAAG,UAAUzC,KAAK,UAAU0C,YAAY,UAAUC,MAAM/B,EAAQgC,SAAS,SAAkBG,GAAK,OAAOlC,EAAWkC,MAAsB3G,OAAOmD,EAAiB,IAAxBnD,CAA2BkD,EAAgC,EAAE,CAACwD,QAAQ,2EAA2ElC,QAAQA,EAAQ+B,MAAMnC,EAAOoC,SAAS,SAAkBG,GAAK,OAAOtC,EAAUsC,SAAyB3G,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAAC0F,SAAsB1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,QAAQ,CAACW,UAAU,0FAA0FyF,KAAK,SAASC,GAAG,SAASzC,KAAK,SAAS2C,MAAM,kBAA+BvG,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAACW,UAAUiE,EAAW,OAAO,SAASc,SAAsB1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAAC4G,wBAAwB,CAACC,OAAOnD,GAAcJ,EAAKqC,WAAWG,SAASgB,sCAE17FC,EAAczH,EAAoB,IAGylD,IAAI0H,EAAnoD,WAAuB,IAAI3D,EAASrD,OAAOoB,EAAwB,EAA/BpB,GAAwCuC,EAAKvC,OAAOoB,EAAwB,EAA/BpB,EAAkC,SAASuD,GAAO,OAAOA,EAAM0D,mBAAmBC,kBAAkB3E,QAAY4E,EAAInH,OAAOoB,EAAwB,EAA/BpB,EAAkC,SAASuD,GAAO,OAAOA,EAAM0D,mBAAmBC,kBAAkBE,YAAgBC,EAAQrH,OAAOoB,EAAwB,EAA/BpB,EAAkC,SAASuD,GAAO,OAAOA,EAAM0D,mBAAmBK,wBAAqI,OAA7GtH,OAAOkB,EAAiB,UAAxBlB,EAA2B,WAAWqD,EAASrD,OAAOiD,EAAmC,EAA1CjD,MAAkD,CAACqD,IAA8BrD,OAAOmD,EAAkB,KAAzBnD,CAA4BmD,EAAsB,SAAE,CAACuC,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,KAAK,CAACW,UAAU,iBAAiB+E,SAAS,YAAyB1F,OAAOmD,EAAiB,IAAxBnD,CAA2B+G,EAA6B,EAAE,CAACjH,SAAS,4CAA4CF,IAAIyH,GAASF,EAAI,GAAGxB,WAAW4B,IAAIC,IAAI3H,IAAI,eAA4BG,OAAOmD,EAAkB,KAAzBnD,CAA4B,MAAM,CAACW,UAAU,QAAQ+E,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,KAAK,CAACW,UAAU,WAAW+E,SAAS2B,GAAS9E,EAAK,GAAGoD,WAAWC,QAAqB5F,OAAOmD,EAAiB,IAAxBnD,CAA2B,IAAI,CAAC0F,SAAS2B,GAAS9E,EAAK,GAAGoD,WAAW8B,yBAAsCzH,OAAOmD,EAAkB,KAAzBnD,CAA4B,MAAM,CAACW,UAAU,gBAAgB+E,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,KAAK,CAACW,UAAU,gBAAgB+E,SAAS,qBAAkC1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,KAAK,CAACW,UAAU,eAAe+E,SAAS2B,GAAS9E,EAAK,GAAGoD,WAAW+B,6BAA6BC,KAAI,SAASC,GAAM,OAAmB5H,OAAOmD,EAAkB,KAAzBnD,CAA4B,KAAK,CAAC0F,SAAS,CAACkC,EAAKL,IAAI,IAAIK,EAAKhC,qBAG/jCvG,EAA6B,QAA3iB,WAAmB,OAAmBW,OAAOmD,EAAkB,KAAzBnD,CAA4B,MAAM,CAACW,UAAU,gDAAgD+E,SAAS,CAAc1F,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAACW,UAAU,4BAA4B+E,SAAsB1F,OAAOmD,EAAiB,IAAxBnD,CAA2BgH,EAAiB,MAAmBhH,OAAOmD,EAAiB,IAAxBnD,CAA2B,MAAM,CAACW,UAAU,0CAA0C+E,SAAsB1F,OAAOmD,EAAiB,IAAxBnD,CAA2BoD,EAAsB"},"input":"(this[\"webpackJsonptw2-01-music\"] = this[\"webpackJsonptw2-01-music\"] || []).push([[13],{\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_rajju_Sites_REACT_WEBSITES_d9_music_tw2_02_music_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_LoadingBar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__);\nfunction ImageOnload(_ref){var src=_ref.src,alt=_ref.alt,cssClass=_ref.cssClass;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),_useState2=Object(_Users_rajju_Sites_REACT_WEBSITES_d9_music_tw2_02_music_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];//const [image, setImage] = useState('');\nconsole.log(\"loading\",loading);Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function(){var img=new Image();img.onload=function(){// image has been loaded\nsetLoading(true);};img.src=src;},[src]);return loading?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(\"img\",{width:\"100%\",height:\"100%\",className:cssClass,src:src,alt:alt}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__[\"jsx\"])(_components_LoadingBar__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{});}/* harmony default export */ __webpack_exports__[\"a\"] = (ImageOnload);\n\n/***/ }),\n\n/***/ 779:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(175);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./src/config/config.js\nvar config = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 23 modules\nvar es = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar node_modules_axios = __webpack_require__(10);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(node_modules_axios);\n\n// CONCATENATED MODULE: ./src/config/ajax.js\n/*\n * Wrapper for axios AJAX library.\n * \n * Basically, we use axios directly. But before axios can be used,\n * - we create an new axios instance\n * - give than instance an AJAX fetched CSRF token, which it will send as header 'X-CSRF-Token' with every request\n * - tell the instance that it should include credentials (cookie) with every request\n * - tell the instance that it should include the query parameter \"?_format=json\" with every request\n * \n * Finally, we wrap this activity in a Promise and return it, so that callers can\n * rely on the promise to call their own callback on successful resolution of the promise\n * or an error handler if the promise gets rejected.\n */var singleton=null;// a singleton instance of axios that the default init function returns\n// note the 'async' keyword, it allows us to call 'await' later\n// eslint-disable-next-line import/no-anonymous-default-export\n/* harmony default export */ var ajax = (/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var tokenURL,response,csrf_token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(singleton){_context.next=14;break;}tokenURL=config[\"a\" /* baseurl */].URL+'/session/token';_context.prev=2;_context.next=5;return axios_default.a.get(tokenURL,{withCredentials:true// required to send auth cookie\n});case 5:response=_context.sent;csrf_token=response.data;singleton=axios_default.a.create({baseURL:config[\"a\" /* baseurl */].URL,// every request is relative to this URL\nwithCredentials:true,// include auth cookie in every request\nheaders:{'X-CSRF-Token':csrf_token},// include this header in every request\nparams:{_format:'json'}// add these query params to every request\n});console.log('Created new axios instance',singleton);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);console.error(_context.t0);case 14:console.log(\"SINGLETON\",singleton);return _context.abrupt(\"return\",singleton);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);})));\n// EXTERNAL MODULE: ./src/redux/actions.js\nvar actions = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/react-country-region-selector/dist/rcrs.es.js\nvar rcrs_es = __webpack_require__(773);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/page/SubscriptionForm.js\nfunction SubscriptionForm(){var dispatch=Object(es[\"b\" /* useDispatch */])();var form=Object(es[\"c\" /* useSelector */])(function(state){return state.reducerSubscriptionForm.subscription_form_data.data;});var form_fetched=Object(es[\"c\" /* useSelector */])(function(state){return state.reducerSubscriptionForm.subscription_form_fetched;});//console.log(\"Conf message\", form_fetched && form);\nvar _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),region=_useState6[0],setRegion=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),country=_useState8[0],setCountry=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),submitForm=_useState10[0],setSubmitForm=_useState10[1];Object(react[\"useEffect\"])(function(){dispatch(Object(actions[\"h\" /* actionSubscriptionForm */])());submitForm&&setName('');setEmail('');setRegion('');setCountry('');},[dispatch,submitForm]);console.log(name,email,region,country,\"sumbited\",submitForm);var handleSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var data,webform_rest_url,axios,response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();/** NOTE: Permission need to allowed to anonymouse user\n     * RESTful Web Services\n     *   - Access POST on Webform Submit resource\n     */data={\"webform_id\":\"fansclub\",\"name\":name,\"email\":email,\"country\":country,\"state\":region};console.log(\"DATA submitted\",data);webform_rest_url=\"\".concat(config[\"a\" /* baseurl */].URL,\"/webform_rest/submit\");_context.prev=4;_context.next=7;return ajax();case 7:axios=_context.sent;_context.next=10;return axios.post(webform_rest_url,data);case 10:response=_context.sent;response.status===200&&setSubmitForm(true);console.log(\"Data Posted:\",response);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](4);console.log(\"Submit Error\",_context.t0);case 18:case\"end\":return _context.stop();}}},_callee,null,[[4,15]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"w-full md:p-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"text-3xl\",children:form_fetched&&form.attributes.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:form_fetched&&!submitForm&&form.attributes.description}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"text-1xl\",children:submitForm&&form_fetched&&form.attributes.settings.confirmation_message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:submitForm?\"hidden\":\"w-full flex\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,method:\"post\",class:\"w-full mt-5 flex flex-col\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full outline-none p-2 border-gray-500  border\",required:true,type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"w-full outline-none border-gray-500 p-2 border-l border-r\",required:true,type:\"text\",id:\"email\",name:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(rcrs_es[\"a\" /* CountryDropdown */],{classes:\"w-full outline-none border-gray-500 p-2 border\",required:true,type:\"text\",id:\"country\",name:\"country\",placeholder:\"Country\",value:country,onChange:function onChange(val){return setCountry(val);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(rcrs_es[\"b\" /* RegionDropdown */],{classes:\"border-l border-r border-b border-gray-500 outline-none px-3 py-2 w-full\",country:country,value:region,onChange:function onChange(val){return setRegion(val);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"border border-gray-500 px-4 py-2 mt-5 hover:bg-gray-500 hover:text-white cursor-pointer\",type:\"submit\",id:\"submit\",name:\"submit\",value:\"Submit\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:submitForm?\"flex\":\"hidden\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{dangerouslySetInnerHTML:{__html:form_fetched&&form.attributes.settings.submission_exception_message}})})]});}/* harmony default export */ var page_SubscriptionForm = (SubscriptionForm);\n// EXTERNAL MODULE: ./src/components/ImageOnload.js\nvar ImageOnload = __webpack_require__(77);\n\n// CONCATENATED MODULE: ./src/page/ContactInfo.js\nfunction ContactInfo(){var dispatch=Object(es[\"b\" /* useDispatch */])();var data=Object(es[\"c\" /* useSelector */])(function(state){return state.reducerContactInfo.contact_info_data.data;});var inc=Object(es[\"c\" /* useSelector */])(function(state){return state.reducerContactInfo.contact_info_data.included;});var fetched=Object(es[\"c\" /* useSelector */])(function(state){return state.reducerContactInfo.contact_info_fetched;});Object(react[\"useEffect\"])(function(){dispatch(Object(actions[\"b\" /* actionContactInfo */])());},[dispatch]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"text-3xl py-10\",children:\"Contact\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ImageOnload[\"a\" /* default */],{cssClass:\"w-full h-40 md:w-1/2 md:h-96 object-cover\",src:fetched&&inc[1].attributes.uri.url,alt:\"Music Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"py-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"text-2xl\",children:fetched&&data[0].attributes.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:fetched&&data[0].attributes.field_contact_email})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"py-5 md:py-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"text-2xl mb-3\",children:\"Booking Agencies\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"grid gap-y-4\",children:fetched&&data[0].attributes.field_contact_booking_agency.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[item.uri,\"|\",item.title]});})})]})]});}/* harmony default export */ var page_ContactInfo = (ContactInfo);\n// CONCATENATED MODULE: ./src/page/Contact.js\n//import ContactForm from './ContactForm';\nfunction Contact(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"grid grid-cols-12 max-w-screen-xl m-auto p-10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-span-12 md:col-span-4\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(page_ContactInfo,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"col-span-12 md:col-span-8 mt-10 md:mt-0\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(page_SubscriptionForm,{})})]});}/* harmony default export */ var page_Contact = __webpack_exports__[\"default\"] = (Contact);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/components/ImageOnload.js","/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/config/ajax.js","/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/page/SubscriptionForm.js","/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/page/ContactInfo.js","/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/page/Contact.js"],"names":["ImageOnload","src","alt","cssClass","useState","loading","setLoading","console","log","useEffect","img","Image","onload","singleton","tokenURL","baseurl","URL","axios","get","withCredentials","response","csrf_token","data","create","baseURL","headers","params","_format","error","SubscriptionForm","dispatch","useDispatch","form","useSelector","state","reducerSubscriptionForm","subscription_form_data","form_fetched","subscription_form_fetched","name","setName","email","setEmail","region","setRegion","country","setCountry","submitForm","setSubmitForm","actionSubscriptionForm","handleSubmit","e","preventDefault","webform_rest_url","ajax","post","status","attributes","title","description","settings","confirmation_message","target","value","val","__html","submission_exception_message","ContactInfo","reducerContactInfo","contact_info_data","inc","included","fetched","contact_info_fetched","actionContactInfo","uri","url","field_contact_email","field_contact_booking_agency","map","item","Contact"],"mappings":"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","file":"x","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  console.log(\"loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload","import axios from 'axios'\nimport {baseurl} from './config'\n\n/*\n * Wrapper for axios AJAX library.\n * \n * Basically, we use axios directly. But before axios can be used,\n * - we create an new axios instance\n * - give than instance an AJAX fetched CSRF token, which it will send as header 'X-CSRF-Token' with every request\n * - tell the instance that it should include credentials (cookie) with every request\n * - tell the instance that it should include the query parameter \"?_format=json\" with every request\n * \n * Finally, we wrap this activity in a Promise and return it, so that callers can\n * rely on the promise to call their own callback on successful resolution of the promise\n * or an error handler if the promise gets rejected.\n */\nlet singleton = null // a singleton instance of axios that the default init function returns\n\n// note the 'async' keyword, it allows us to call 'await' later\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default async () => {\n  if(!singleton) {\n    const tokenURL = baseurl.URL + '/session/token';\n    try {\n      const response = await axios.get(tokenURL, {\n        withCredentials: true // required to send auth cookie\n      })\n      const csrf_token = response.data\n      singleton = axios.create({\n        baseURL: baseurl.URL, // every request is relative to this URL\n        withCredentials: true, // include auth cookie in every request\n        headers: { 'X-CSRF-Token': csrf_token }, // include this header in every request\n        params: { _format: 'json' }, // add these query params to every request\n      })\n      console.log('Created new axios instance', singleton)\n    } catch(error) {\n      console.error(error)\n    }\n  }\n  console.log(\"SINGLETON\",singleton);\n  return singleton\n\n}","import React, {useState, useEffect} from 'react';\nimport {baseurl} from '../config/config';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ajax from '../config/ajax';\nimport {actionSubscriptionForm} from '../redux/actions';\nimport { CountryDropdown, RegionDropdown } from 'react-country-region-selector';\n\n\n\nfunction SubscriptionForm() {\n\n  const dispatch = useDispatch();\n  const form = useSelector(state => state.reducerSubscriptionForm.subscription_form_data.data);\n  const form_fetched = useSelector(state => state.reducerSubscriptionForm.subscription_form_fetched);\n\n  //console.log(\"Conf message\", form_fetched && form);\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [region, setRegion] = useState('');\n  const [country, setCountry] = useState('');\n  const [submitForm, setSubmitForm] = useState(false);\n\n\n  useEffect(()=>{\n    \n    dispatch(actionSubscriptionForm())\n\n    submitForm &&\n    setName('');\n    setEmail('');\n    setRegion('');\n    setCountry('');\n\n\n  },[dispatch, submitForm])\n  \n\n\n  console.log(name, email, region, country,\"sumbited\", submitForm);\n\n  const handleSubmit = async (e) =>{\n    e.preventDefault();\n    /** NOTE: Permission need to allowed to anonymouse user\n     * RESTful Web Services\n     *   - Access POST on Webform Submit resource\n     */\n    \n    const data = {\n      \"webform_id\": \"fansclub\",\n      \"name\": name,\n      \"email\": email,\n      \"country\": country,\n      \"state\": region,\n    }\n    console.log(\"DATA submitted\",data);\n    const webform_rest_url = `${baseurl.URL}/webform_rest/submit`;\n\n    try{\n      const axios = await ajax(); //wait for initalized axios object\n      const response = await axios.post(webform_rest_url, data);\n      response.status === 200 && setSubmitForm(true);\n      console.log(\"Data Posted:\",response);\n    }catch(e){\n      console.log(\"Submit Error\",e);\n    }\n\n  }\n\n  return (\n    <div className=\"w-full md:p-10\">\n      <h1 className=\"text-3xl\">\n        {form_fetched && form.attributes.title} \n      </h1>\n      <div>\n        {form_fetched && !submitForm && form.attributes.description}\n      </div>\n      <div className=\"text-1xl\">\n        {submitForm && form_fetched && form.attributes.settings.confirmation_message }\n      </div>\n\n       {/** SUBSCRIPTION FORM */}\n      <div className={ submitForm ?  \"hidden\" : \"w-full flex\"}>\n        <form onSubmit={handleSubmit}  method=\"post\" class=\"w-full mt-5 flex flex-col\">\n        <div>\n          <input\n          className=\"w-full outline-none p-2 border-gray-500 \n          border\" \n          required\n          type=\"text\" \n          id=\"name\"  \n          name=\"name\"  \n          placeholder=\"Name\" \n          value={name}\n          onChange={(e)=>setName(e.target.value)}\n          />\n          <input \n          className=\"w-full outline-none border-gray-500 p-2\n          border-l border-r\"\n          required  \n          type=\"text\" \n          id=\"email\" \n          name=\"email\" \n          placeholder=\"Email\" \n          value={email}\n          onChange={(e)=>setEmail(e.target.value)}\n          />\n          <CountryDropdown \n          classes=\"w-full outline-none border-gray-500 p-2 border\"\n          required  \n          type=\"text\" \n          id=\"country\" \n          name=\"country\"\n          placeholder=\"Country\"\n          value={country}\n          onChange={(val)=>setCountry(val)}\n          />\n          <RegionDropdown\n          classes=\"border-l border-r border-b border-gray-500 outline-none px-3 py-2 w-full\"\n          country={country}\n          value={region}\n          onChange={(val) => setRegion(val)} />\n        </div>\n        \n        <div>\n          <input  \n          className=\"border border-gray-500 px-4 py-2 mt-5 hover:bg-gray-500 hover:text-white cursor-pointer\"  type=\"submit\" \n          id=\"submit\" \n          name=\"submit\" \n          value=\"Submit\" />\n        </div>          \n        </form>\n        \n      </div>\n  \n\n      {/** FORM SUBMITTED MESSAGE  */}\n      <div className={ submitForm ? \"flex\" : \"hidden\"} >\n        <div dangerouslySetInnerHTML={{__html:form_fetched \n        && form.attributes.settings.submission_exception_message}}  />\n      </div>\n  \n    </div>\n  )\n}\n\nexport default SubscriptionForm","import {useEffect} from 'react';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {actionContactInfo} from '../redux/actions';\nimport ImageOnload from '../components/ImageOnload';\n\n\nfunction ContactInfo() {\n\n  const dispatch = useDispatch()\n\n  const data = useSelector(state => state.reducerContactInfo.contact_info_data.data);\n  const inc  = useSelector(state => state.reducerContactInfo.contact_info_data.included);\n  const fetched = useSelector(state => state.reducerContactInfo.contact_info_fetched);\n  \n  useEffect(()=> {\n    dispatch(actionContactInfo());\n  },[dispatch]);\n\n  \n  return (\n        <>\n            <h2 className=\"text-3xl py-10\">Contact</h2>\n\n            <ImageOnload \n            cssClass=\"w-full h-40 md:w-1/2 md:h-96 object-cover\"\n            src={fetched && inc[1].attributes.uri.url} \n            alt=\"Music Page\"\n            />\n\n            <div className=\"py-10\">\n              <h3 className=\"text-2xl\">{fetched && data[0].attributes.title}</h3>\n              <p>{fetched && data[0].attributes.field_contact_email}</p>  \n            </div>\n\n            <div className=\"py-5 md:py-10\">\n              <h3 className=\"text-2xl mb-3\">Booking Agencies</h3>\n              <ul className=\"grid gap-y-4\">\n                {\n                  fetched && \n                  data[0].attributes.field_contact_booking_agency.map(item=>{\n                    return <li>{item.uri}|{item.title}</li>\n                  })\n                }\n              </ul>\n            </div>\n      </>\n  )\n}\n\nexport default ContactInfo\n","//import ContactForm from './ContactForm';\nimport SubscriptionFrom from './SubscriptionForm';\nimport ContactInfo from './ContactInfo';\n\n\n\nfunction Contact() {\n  \n\n  return (\n    <div className=\"grid grid-cols-12 max-w-screen-xl m-auto p-10\">\n      \n      <div className=\"col-span-12 md:col-span-4\">\n        <ContactInfo />\n      </div>\n\n      <div className=\"col-span-12 md:col-span-8 mt-10 md:mt-0\">\n        <SubscriptionFrom />\n      </div>\n      \n    </div>\n  )\n}\n\nexport default Contact"]}}