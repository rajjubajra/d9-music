{"ast":null,"code":"import _slicedToArray from\"/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector}from'react-redux';import ImageOnload from'../components/ImageOnload';import BtnReadMore from'../components/Buttons/BtnReadMore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Homepage(){//const dispatch = useDispatch();\nvar data=useSelector(function(state){return state.reducerHomePage.home_data.data;});var included=useSelector(function(state){return state.reducerHomePage.home_data.included;});var length=useSelector(function(state){return state.reducerHomePage.home_dataLength;});var fetched=useSelector(function(state){return state.reducerHomePage.home_fetched;});console.log(\"one\",data);console.log(\"two\",included);console.log(\"homepage\",fetched,\"length\",length);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),arr=_useState2[0],setArr=_useState2[1];useEffect(function(){var newArr=[];fetched&&data.map(function(item){var _item$attributes=item.attributes,title=_item$attributes.title,field_home_body=_item$attributes.field_home_body;var image=included[1].attributes.uri.url;var imageWidth=included[0].relationships.field_media_image.data.meta.width;var imageHeight=included[0].relationships.field_media_image.data.meta.height;newArr.push({title:title,body:field_home_body.value,image:image,image_height:imageHeight,image_width:imageWidth});});setArr(newArr);},[data,fetched,included]);console.log(\"new array \",arr);return/*#__PURE__*/_jsx(\"div\",{className:\"w-full min-h-screen flex align-middle\",children:arr.length>0&&arr.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full p-5 max-w-screen-xl m-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-3  md:grid-cols-2 md:grid-rows-2  lg:grid-cols-3 lg:grid-rows-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-10\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-thin text-right py-5 md:w-1/2 md:transform md:-rotate-90 md:relative md:top-24 md:left-1/4 uppercase tracking-widest\",children:\"YW4 Music One\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"py-5 md:flex md:justify-end lg:w-2/3\",children:/*#__PURE__*/_jsx(ImageOnload,{height:item.image_height,width:item.image_width,src:item.image,alt:\"Homepage\",cssClass:\"h-64 w-full md:h-96 md:w-64 object-cover\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-10  md:col-span-2 md:flex md:justify-end  lg:col-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 lg:w-full pb-8 text-right\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl\",children:item.title}),/*#__PURE__*/_jsx(\"div\",{className:\"font-extralight my-5 text-right\",dangerouslySetInnerHTML:{__html:item.body}}),/*#__PURE__*/_jsx(\"div\",{className:\"md:text-right md:mt-10\",children:/*#__PURE__*/_jsx(BtnReadMore,{link:item.link})})]})})]})},item.id);})});}export default Homepage;","map":{"version":3,"sources":["/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/page/Homepage.js"],"names":["React","useEffect","useState","useSelector","ImageOnload","BtnReadMore","Homepage","data","state","reducerHomePage","home_data","included","length","home_dataLength","fetched","home_fetched","console","log","arr","setArr","newArr","map","item","attributes","title","field_home_body","image","uri","url","imageWidth","relationships","field_media_image","meta","width","imageHeight","height","push","body","value","image_height","image_width","__html","link","id"],"mappings":"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","sourcesContent":["import React,{useEffect, useState} from 'react';\nimport {useSelector} from 'react-redux';\nimport ImageOnload from '../components/ImageOnload';\nimport BtnReadMore from '../components/Buttons/BtnReadMore';\n\nfunction Homepage() {\n\n  //const dispatch = useDispatch();\n  const data = useSelector(state => state.reducerHomePage.home_data.data);\n  const included = useSelector(state => state.reducerHomePage.home_data.included);\n  const length = useSelector(state => state.reducerHomePage.home_dataLength );\n  const fetched = useSelector(state => state.reducerHomePage.home_fetched );\n\n\n  console.log(\"one\",data);\n  console.log(\"two\",included);\n  console.log(\"homepage\",fetched, \"length\", length);\n\n  const [arr, setArr] = useState([]);\n\n\n  useEffect(()=>{\n    const newArr = [];\n    fetched\n    && data.map(item => {\n      const {attributes:{title, field_home_body}} = item;\n      const image = included[1].attributes.uri.url;\n      const imageWidth = included[0].relationships.field_media_image.data.meta.width;\n      const imageHeight = included[0].relationships.field_media_image.data.meta.height;\n        newArr.push({title: title, body: field_home_body.value, image: image, image_height: imageHeight, image_width: imageWidth})\n    })\n    setArr(newArr);\n  },[data, fetched, included]);\n\n  console.log(\"new array \",arr);\n\n\n  return (\n    <div className=\"w-full min-h-screen flex align-middle\">\n\n      {\n        arr.length > 0 &&\n        arr.map((item)=>{\n        return <div key={item.id} className=\"w-full p-5 max-w-screen-xl m-auto\">\n\n          <div className=\"grid gap-3 \n          md:grid-cols-2 md:grid-rows-2 \n          lg:grid-cols-3 lg:grid-rows-1\">\n            <div className=\"px-10\">\n              <h1 className=\"text-5xl font-thin text-right py-5\n              md:w-1/2 md:transform md:-rotate-90 md:relative md:top-24 md:left-1/4 uppercase tracking-widest\">\n                YW4 Music One\n              </h1>\n              </div>\n            <div className=\"px-10\">\n              <div className=\"py-5 md:flex md:justify-end lg:w-2/3\">\n                <ImageOnload \n                  height={item.image_height}\n                  width={item.image_width}\n                  src={item.image} \n                  alt=\"Homepage\"  \n                cssClass=\"h-64 w-full md:h-96 md:w-64 object-cover\" />\n              </div>\n            </div>\n            <div className=\"px-10 \n            md:col-span-2 md:flex md:justify-end \n            lg:col-auto\">\n              <div className=\"md:w-1/2 lg:w-full pb-8 text-right\">\n                <h2 className=\"text-2xl\">{item.title}</h2>\n                <div  className=\"font-extralight my-5 text-right\" \n                  dangerouslySetInnerHTML={{__html: item.body}} />\n                <div className=\"md:text-right md:mt-10\">\n                  <BtnReadMore link={item.link} />\n                </div>\n            </div>\n            </div>\n          </div>\n        </div>\n        })\n      }\n    \n    </div>\n  )\n}\n\nexport default Homepage"]},"metadata":{},"sourceType":"module"}