{"ast":null,"code":"import _slicedToArray from\"/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import LoadingBar from'../components/LoadingBar';import{jsx as _jsx}from\"react/jsx-runtime\";function ImageOnload(_ref){var src=_ref.src,alt=_ref.alt,cssClass=_ref.cssClass;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];//const [image, setImage] = useState('');\nconsole.log(\"loading\",loading);useEffect(function(){var img=new Image();img.onload=function(){// image has been loaded\nsetLoading(true);};img.src=src;},[src]);return loading?/*#__PURE__*/_jsx(\"img\",{width:\"100%\",height:\"100%\",className:cssClass,src:src,alt:alt}):/*#__PURE__*/_jsx(LoadingBar,{});}export default ImageOnload;","map":{"version":3,"sources":["/Users/rajju/Sites/REACT-WEBSITES/d9-music/tw2-02-music/src/components/ImageOnload.js"],"names":["React","useState","useEffect","LoadingBar","ImageOnload","src","alt","cssClass","loading","setLoading","console","log","img","Image","onload"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,C,2CAEA,QAASC,CAAAA,WAAT,MAA2C,IAArBC,CAAAA,GAAqB,MAArBA,GAAqB,CAAhBC,GAAgB,MAAhBA,GAAgB,CAAXC,QAAW,MAAXA,QAAW,CAEzC,cAA8BN,QAAQ,CAAC,KAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA;AAEAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAsBH,OAAtB,EAEAN,SAAS,CAAC,UAAI,CACZ,GAAMU,CAAAA,GAAG,CAAG,GAAIC,CAAAA,KAAJ,EAAZ,CACID,GAAG,CAACE,MAAJ,CAAY,UAAM,CAChB;AACAL,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,CAIAG,GAAG,CAACP,GAAJ,CAAUA,GAAV,CACL,CAPQ,CAOP,CAACA,GAAD,CAPO,CAAT,CASA,MACEG,CAAAA,OAAO,cACP,YACE,KAAK,CAAC,MADR,CAEE,MAAM,CAAC,MAFT,CAGE,SAAS,CAAED,QAHb,CAIE,GAAG,CAAEF,GAJP,CAKE,GAAG,CAAEC,GALP,EADO,cAQL,KAAC,UAAD,IATJ,CAWD,CAED,cAAeF,CAAAA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LoadingBar from '../components/LoadingBar';\n\nfunction ImageOnload({src, alt, cssClass}) {\n\n  const [loading, setLoading] = useState(false);\n  //const [image, setImage] = useState('');\n  \n  console.log(\"loading\",loading);  \n\n  useEffect(()=>{\n    const img = new Image();\n        img.onload =() => {\n          // image has been loaded\n          setLoading(true);\n        };\n        img.src = src;\n  },[src])\n\n  return (\n    loading ?\n    <img \n      width=\"100%\"\n      height=\"100%\"\n      className={cssClass}\n      src={src} \n      alt={alt} \n    /> \n    : <LoadingBar /> \n  )\n}\n\nexport default ImageOnload"]},"metadata":{},"sourceType":"module"}